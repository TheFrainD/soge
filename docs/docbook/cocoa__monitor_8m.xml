<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_cocoa__monitor_8m">
<title>deps/glfw/src/cocoa_monitor.m File Reference</title>
<indexterm><primary>deps/glfw/src/cocoa_monitor.m</primary></indexterm>
<programlisting>#include &quot;internal.h&quot;
#include &lt;stdlib.h&gt;
#include &lt;limits.h&gt;
#include &lt;math.h&gt;
#include &lt;IOKit/graphics/IOGraphicsLib.h&gt;
#include &lt;ApplicationServices/ApplicationServices.h&gt;
</programlisting><simplesect>
    <title>Functions    </title>
        <itemizedlist>
            <listitem><para><link linkend="_glext_8h_1a46df6112013cf583e82b25cebd5cb499">void</link> <link linkend="_cocoa__monitor_8m_1a4993d8c0eef61c250c0d4c18a3d86a64">_glfwPollMonitorsCocoa</link> (<link linkend="_glext_8h_1a46df6112013cf583e82b25cebd5cb499">void</link>)</para>
</listitem>
            <listitem><para><link linkend="_glext_8h_1a46df6112013cf583e82b25cebd5cb499">void</link> <link linkend="_cocoa__monitor_8m_1a3281031c189cfb8ca742500ef5683232">_glfwSetVideoModeCocoa</link> (<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link> *monitor, const <link linkend="_struct_g_l_f_wvidmode">GLFWvidmode</link> *desired)</para>
</listitem>
            <listitem><para><link linkend="_glext_8h_1a46df6112013cf583e82b25cebd5cb499">void</link> <link linkend="_cocoa__monitor_8m_1ac99be3bd7c1ec6c288e72b69734b5204">_glfwRestoreVideoModeCocoa</link> (<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link> *monitor)</para>
</listitem>
            <listitem><para><link linkend="_glext_8h_1a46df6112013cf583e82b25cebd5cb499">void</link> <link linkend="_cocoa__monitor_8m_1ad2b565ef77c481ddae2ce38531f7c0e5">_glfwFreeMonitorCocoa</link> (<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link> *monitor)</para>
</listitem>
            <listitem><para><link linkend="_glext_8h_1a46df6112013cf583e82b25cebd5cb499">void</link> <link linkend="_cocoa__monitor_8m_1a2cc2e4fbb9a17f48b80905185028d656">_glfwGetMonitorPosCocoa</link> (<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link> *monitor, int *xpos, int *ypos)</para>
</listitem>
            <listitem><para><link linkend="_glext_8h_1a46df6112013cf583e82b25cebd5cb499">void</link> <link linkend="_cocoa__monitor_8m_1a10c59c9ca1e99d2970311eba1cd1fd59">_glfwGetMonitorContentScaleCocoa</link> (<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link> *monitor, float *xscale, float *yscale)</para>
</listitem>
            <listitem><para><link linkend="_glext_8h_1a46df6112013cf583e82b25cebd5cb499">void</link> <link linkend="_cocoa__monitor_8m_1a03d496951d90707a601f4bd749ba1c4a">_glfwGetMonitorWorkareaCocoa</link> (<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link> *monitor, int *xpos, int *ypos, int *<link linkend="_glad_8h_1a77a72419a6bb6d8b56f8d9db93a120d0">width</link>, int *<link linkend="_glad_8h_1a2e94a4956fa3fc42600a71518b6e6284">height</link>)</para>
</listitem>
            <listitem><para><link linkend="_struct_g_l_f_wvidmode">GLFWvidmode</link> * <link linkend="_cocoa__monitor_8m_1ad7e125ac2d35ad17d79a177ea5a91ceb">_glfwGetVideoModesCocoa</link> (<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link> *monitor, int *<link linkend="_glad_8h_1a5b40aca7a9682963dd00a8f5aef0a901">count</link>)</para>
</listitem>
            <listitem><para><link linkend="_glext_8h_1a46df6112013cf583e82b25cebd5cb499">void</link> <link linkend="_cocoa__monitor_8m_1ac865ece607a79f692e134ca650443966">_glfwGetVideoModeCocoa</link> (<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link> *monitor, <link linkend="_struct_g_l_f_wvidmode">GLFWvidmode</link> *<link linkend="_glad_8h_1a1e71d9c196e4683cc06c4b54d53f7ef5">mode</link>)</para>
</listitem>
            <listitem><para><link linkend="_internal_8h_1ac5743c31bece872e24528b5a45e354c5">GLFWbool</link> <link linkend="_cocoa__monitor_8m_1a790d13f33c98a3a19f19537e04fd1548">_glfwGetGammaRampCocoa</link> (<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link> *monitor, <link linkend="_struct_g_l_f_wgammaramp">GLFWgammaramp</link> *ramp)</para>
</listitem>
            <listitem><para><link linkend="_glext_8h_1a46df6112013cf583e82b25cebd5cb499">void</link> <link linkend="_cocoa__monitor_8m_1ae7fb22fad6b99d5e7066540a70920c0c">_glfwSetGammaRampCocoa</link> (<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link> *monitor, const <link linkend="_struct_g_l_f_wgammaramp">GLFWgammaramp</link> *ramp)</para>
</listitem>
            <listitem><para><link linkend="_glfw3_8h_1a56da5036b2cc259351ae22fd6439bb47">GLFWAPI</link> CGDirectDisplayID <link linkend="_cocoa__monitor_8m_1a9d3a74d6ba74ed963c70a4e1bab25b57">glfwGetCocoaMonitor</link> (<link linkend="_group__monitor_1ga8d9efd1cde9426692c73fe40437d0ae3">GLFWmonitor</link> *handle)</para>
</listitem>
        </itemizedlist>
</simplesect>
<section>
<title>Function Documentation</title>
<anchor xml:id="_cocoa__monitor_8m_1ad2b565ef77c481ddae2ce38531f7c0e5"/>    <section>
    <title>_glfwFreeMonitorCocoa()</title>
<indexterm><primary>_glfwFreeMonitorCocoa</primary><secondary>cocoa_monitor.m</secondary></indexterm>
<indexterm><primary>cocoa_monitor.m</primary><secondary>_glfwFreeMonitorCocoa</secondary></indexterm>
<para><computeroutput><link linkend="_glext_8h_1a46df6112013cf583e82b25cebd5cb499">void</link> _glfwFreeMonitorCocoa (<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link> * monitor)</computeroutput></para><para>
Definition at line 450 of file cocoa_monitor.m.</para>
<programlisting>451 {
452 }
</programlisting>    </section><anchor xml:id="_cocoa__monitor_8m_1a790d13f33c98a3a19f19537e04fd1548"/>    <section>
    <title>_glfwGetGammaRampCocoa()</title>
<indexterm><primary>_glfwGetGammaRampCocoa</primary><secondary>cocoa_monitor.m</secondary></indexterm>
<indexterm><primary>cocoa_monitor.m</primary><secondary>_glfwGetGammaRampCocoa</secondary></indexterm>
<para><computeroutput><link linkend="_internal_8h_1ac5743c31bece872e24528b5a45e354c5">GLFWbool</link> _glfwGetGammaRampCocoa (<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link> * monitor, <link linkend="_struct_g_l_f_wgammaramp">GLFWgammaramp</link> * ramp)</computeroutput></para><para>
Definition at line 567 of file cocoa_monitor.m.</para>
<programlisting>568 {
569 &#32;&#32;&#32;&#32;@autoreleasepool&#32;{
570 
571 &#32;&#32;&#32;&#32;<link linkend="_stdint_8h_1a435d1572bf3f880d55459d9805097f62">uint32_t</link>&#32;<link linkend="_glad_8h_1a3d1e3edfcf61ca2d831883e1afbad89e">size</link>&#32;=&#32;CGDisplayGammaTableCapacity(monitor-&gt;ns.displayID);
572 &#32;&#32;&#32;&#32;CGGammaValue*&#32;<link linkend="_glad_8h_1a0aa8cf39c79d294b1d9f4daef5020bec">values</link>&#32;=&#32;<link linkend="_init_8c_1afdf24e4f0665535fd3d012b810ffb18f">_glfw_calloc</link>(<link linkend="_glad_8h_1a3d1e3edfcf61ca2d831883e1afbad89e">size</link>&#32;*&#32;3,&#32;<emphasis role="keyword">sizeof</emphasis>(CGGammaValue));
573 
574 &#32;&#32;&#32;&#32;CGGetDisplayTransferByTable(monitor-&gt;ns.displayID,
575 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_glad_8h_1a3d1e3edfcf61ca2d831883e1afbad89e">size</link>,
576 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_glad_8h_1a0aa8cf39c79d294b1d9f4daef5020bec">values</link>,
577 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_glad_8h_1a0aa8cf39c79d294b1d9f4daef5020bec">values</link>&#32;+&#32;<link linkend="_glad_8h_1a3d1e3edfcf61ca2d831883e1afbad89e">size</link>,
578 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_glad_8h_1a0aa8cf39c79d294b1d9f4daef5020bec">values</link>&#32;+&#32;<link linkend="_glad_8h_1a3d1e3edfcf61ca2d831883e1afbad89e">size</link>&#32;*&#32;2,
579 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&amp;<link linkend="_glad_8h_1a3d1e3edfcf61ca2d831883e1afbad89e">size</link>);
580 
581 &#32;&#32;&#32;&#32;<link linkend="_internal_8h_1acb6a8b432b06fd0accdfc0e046785109">_glfwAllocGammaArrays</link>(ramp,&#32;<link linkend="_glad_8h_1a3d1e3edfcf61ca2d831883e1afbad89e">size</link>);
582 
583 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<link linkend="_stdint_8h_1a435d1572bf3f880d55459d9805097f62">uint32_t</link>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;<link linkend="_glad_8h_1a3d1e3edfcf61ca2d831883e1afbad89e">size</link>;&#32;i++)
584 &#32;&#32;&#32;&#32;{
585 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ramp-&gt;<link linkend="_struct_g_l_f_wgammaramp_1a2cce5d968734b685623eef913e635138">red</link>[i]&#32;&#32;&#32;=&#32;(<emphasis role="keywordtype">unsigned</emphasis>&#32;short)&#32;(<link linkend="_glad_8h_1a0aa8cf39c79d294b1d9f4daef5020bec">values</link>[i]&#32;*&#32;65535);
586 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ramp-&gt;<link linkend="_struct_g_l_f_wgammaramp_1affccc6f5df47820b6562d709da3a5a3a">green</link>[i]&#32;=&#32;(<emphasis role="keywordtype">unsigned</emphasis>&#32;short)&#32;(<link linkend="_glad_8h_1a0aa8cf39c79d294b1d9f4daef5020bec">values</link>[i&#32;+&#32;<link linkend="_glad_8h_1a3d1e3edfcf61ca2d831883e1afbad89e">size</link>]&#32;*&#32;65535);
587 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ramp-&gt;<link linkend="_struct_g_l_f_wgammaramp_1acf0c836d0efe29c392fe8d1a1042744b">blue</link>[i]&#32;&#32;=&#32;(<emphasis role="keywordtype">unsigned</emphasis>&#32;short)&#32;(<link linkend="_glad_8h_1a0aa8cf39c79d294b1d9f4daef5020bec">values</link>[i&#32;+&#32;<link linkend="_glad_8h_1a3d1e3edfcf61ca2d831883e1afbad89e">size</link>&#32;*&#32;2]&#32;*&#32;65535);
588 &#32;&#32;&#32;&#32;}
589 
590 &#32;&#32;&#32;&#32;<link linkend="_init_8c_1abcf72962b101a8a5c539da1a278b0e9e">_glfw_free</link>(<link linkend="_glad_8h_1a0aa8cf39c79d294b1d9f4daef5020bec">values</link>);
591 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_group__init_1ga2744fbb29b5631bb28802dbe0cf36eba">GLFW_TRUE</link>;
592 
593 &#32;&#32;&#32;&#32;}&#32;<emphasis role="comment">//&#32;autoreleasepool</emphasis>
594 }
</programlisting>    </section><anchor xml:id="_cocoa__monitor_8m_1a10c59c9ca1e99d2970311eba1cd1fd59"/>    <section>
    <title>_glfwGetMonitorContentScaleCocoa()</title>
<indexterm><primary>_glfwGetMonitorContentScaleCocoa</primary><secondary>cocoa_monitor.m</secondary></indexterm>
<indexterm><primary>cocoa_monitor.m</primary><secondary>_glfwGetMonitorContentScaleCocoa</secondary></indexterm>
<para><computeroutput><link linkend="_glext_8h_1a46df6112013cf583e82b25cebd5cb499">void</link> _glfwGetMonitorContentScaleCocoa (<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link> * monitor, float * xscale, float * yscale)</computeroutput></para><para>
Definition at line 468 of file cocoa_monitor.m.</para>
<programlisting>470 {
471 &#32;&#32;&#32;&#32;@autoreleasepool&#32;{
472 
473 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!monitor-&gt;ns.screen)
474 &#32;&#32;&#32;&#32;{
475 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_init_8c_1a3287b282ec57a4a89127ae51f49f10f5">_glfwInputError</link>(<link linkend="_group__errors_1gad44162d78100ea5e87cdd38426b8c7a1">GLFW_PLATFORM_ERROR</link>,
476 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;Cocoa:&#32;Cannot&#32;query&#32;content&#32;scale&#32;without&#32;screen&quot;</emphasis>);
477 &#32;&#32;&#32;&#32;}
478 
479 &#32;&#32;&#32;&#32;<emphasis role="keyword">const</emphasis>&#32;NSRect&#32;<link linkend="_glext_8h_1a0c0cc65d03e264ad2c5262927b620d3f">points</link>&#32;=&#32;[monitor-&gt;ns.screen&#32;frame];
480 &#32;&#32;&#32;&#32;<emphasis role="keyword">const</emphasis>&#32;NSRect&#32;<link linkend="_glad_8h_1ad2818938351edcd54eba6bd5dce29ac3">pixels</link>&#32;=&#32;[monitor-&gt;ns.screen&#32;convertRectToBacking:points];
481 
482 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(xscale)
483 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*xscale&#32;=&#32;(float)&#32;(<link linkend="_glad_8h_1ad2818938351edcd54eba6bd5dce29ac3">pixels</link>.size.width&#32;/&#32;<link linkend="_glext_8h_1a0c0cc65d03e264ad2c5262927b620d3f">points</link>.size.width);
484 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(yscale)
485 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*yscale&#32;=&#32;(float)&#32;(<link linkend="_glad_8h_1ad2818938351edcd54eba6bd5dce29ac3">pixels</link>.size.height&#32;/&#32;<link linkend="_glext_8h_1a0c0cc65d03e264ad2c5262927b620d3f">points</link>.size.height);
486 
487 &#32;&#32;&#32;&#32;}&#32;<emphasis role="comment">//&#32;autoreleasepool</emphasis>
488 }
</programlisting>    </section><anchor xml:id="_cocoa__monitor_8m_1a2cc2e4fbb9a17f48b80905185028d656"/>    <section>
    <title>_glfwGetMonitorPosCocoa()</title>
<indexterm><primary>_glfwGetMonitorPosCocoa</primary><secondary>cocoa_monitor.m</secondary></indexterm>
<indexterm><primary>cocoa_monitor.m</primary><secondary>_glfwGetMonitorPosCocoa</secondary></indexterm>
<para><computeroutput><link linkend="_glext_8h_1a46df6112013cf583e82b25cebd5cb499">void</link> _glfwGetMonitorPosCocoa (<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link> * monitor, int * xpos, int * ypos)</computeroutput></para><para>
Definition at line 454 of file cocoa_monitor.m.</para>
<programlisting>455 {
456 &#32;&#32;&#32;&#32;@autoreleasepool&#32;{
457 
458 &#32;&#32;&#32;&#32;<emphasis role="keyword">const</emphasis>&#32;CGRect&#32;bounds&#32;=&#32;CGDisplayBounds(monitor-&gt;ns.displayID);
459 
460 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(xpos)
461 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*xpos&#32;=&#32;(int)&#32;bounds.origin.x;
462 &#32;&#32;&#32;&#32;if&#32;(ypos)
463 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*ypos&#32;=&#32;(int)&#32;bounds.origin.y;
464 
465 &#32;&#32;&#32;&#32;}&#32;<emphasis role="comment">//&#32;autoreleasepool</emphasis>
466 }
</programlisting>    </section><anchor xml:id="_cocoa__monitor_8m_1a03d496951d90707a601f4bd749ba1c4a"/>    <section>
    <title>_glfwGetMonitorWorkareaCocoa()</title>
<indexterm><primary>_glfwGetMonitorWorkareaCocoa</primary><secondary>cocoa_monitor.m</secondary></indexterm>
<indexterm><primary>cocoa_monitor.m</primary><secondary>_glfwGetMonitorWorkareaCocoa</secondary></indexterm>
<para><computeroutput><link linkend="_glext_8h_1a46df6112013cf583e82b25cebd5cb499">void</link> _glfwGetMonitorWorkareaCocoa (<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link> * monitor, int * xpos, int * ypos, int * width, int * height)</computeroutput></para><para>
Definition at line 490 of file cocoa_monitor.m.</para>
<programlisting>493 {
494 &#32;&#32;&#32;&#32;@autoreleasepool&#32;{
495 
496 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!monitor-&gt;ns.screen)
497 &#32;&#32;&#32;&#32;{
498 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_init_8c_1a3287b282ec57a4a89127ae51f49f10f5">_glfwInputError</link>(<link linkend="_group__errors_1gad44162d78100ea5e87cdd38426b8c7a1">GLFW_PLATFORM_ERROR</link>,
499 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;Cocoa:&#32;Cannot&#32;query&#32;workarea&#32;without&#32;screen&quot;</emphasis>);
500 &#32;&#32;&#32;&#32;}
501 
502 &#32;&#32;&#32;&#32;<emphasis role="keyword">const</emphasis>&#32;NSRect&#32;frameRect&#32;=&#32;[monitor-&gt;ns.screen&#32;visibleFrame];
503 
504 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(xpos)
505 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*xpos&#32;=&#32;frameRect.origin.x;
506 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(ypos)
507 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*ypos&#32;=&#32;<link linkend="_cocoa__platform_8h_1afb4258e6a6ce85f3fdfd405086fa8847">_glfwTransformYCocoa</link>(frameRect.origin.y&#32;+&#32;frameRect.size.height&#32;-&#32;1);
508 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_glad_8h_1a77a72419a6bb6d8b56f8d9db93a120d0">width</link>)
509 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*<link linkend="_glad_8h_1a77a72419a6bb6d8b56f8d9db93a120d0">width</link>&#32;=&#32;frameRect.size.width;
510 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_glad_8h_1a2e94a4956fa3fc42600a71518b6e6284">height</link>)
511 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*<link linkend="_glad_8h_1a2e94a4956fa3fc42600a71518b6e6284">height</link>&#32;=&#32;frameRect.size.height;
512 
513 &#32;&#32;&#32;&#32;}&#32;<emphasis role="comment">//&#32;autoreleasepool</emphasis>
514 }
</programlisting>    </section><anchor xml:id="_cocoa__monitor_8m_1ac865ece607a79f692e134ca650443966"/>    <section>
    <title>_glfwGetVideoModeCocoa()</title>
<indexterm><primary>_glfwGetVideoModeCocoa</primary><secondary>cocoa_monitor.m</secondary></indexterm>
<indexterm><primary>cocoa_monitor.m</primary><secondary>_glfwGetVideoModeCocoa</secondary></indexterm>
<para><computeroutput><link linkend="_glext_8h_1a46df6112013cf583e82b25cebd5cb499">void</link> _glfwGetVideoModeCocoa (<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link> * monitor, <link linkend="_struct_g_l_f_wvidmode">GLFWvidmode</link> * mode)</computeroutput></para><para>
Definition at line 556 of file cocoa_monitor.m.</para>
<programlisting>557 {
558 &#32;&#32;&#32;&#32;@autoreleasepool&#32;{
559 
560 &#32;&#32;&#32;&#32;CGDisplayModeRef&#32;native&#32;=&#32;CGDisplayCopyDisplayMode(monitor-&gt;ns.displayID);
561 &#32;&#32;&#32;&#32;*<link linkend="_glad_8h_1a1e71d9c196e4683cc06c4b54d53f7ef5">mode</link>&#32;=&#32;vidmodeFromCGDisplayMode(native,&#32;monitor-&gt;ns.fallbackRefreshRate);
562 &#32;&#32;&#32;&#32;CGDisplayModeRelease(native);
563 
564 &#32;&#32;&#32;&#32;}&#32;<emphasis role="comment">//&#32;autoreleasepool</emphasis>
565 }
</programlisting>    </section><anchor xml:id="_cocoa__monitor_8m_1ad7e125ac2d35ad17d79a177ea5a91ceb"/>    <section>
    <title>_glfwGetVideoModesCocoa()</title>
<indexterm><primary>_glfwGetVideoModesCocoa</primary><secondary>cocoa_monitor.m</secondary></indexterm>
<indexterm><primary>cocoa_monitor.m</primary><secondary>_glfwGetVideoModesCocoa</secondary></indexterm>
<para><computeroutput><link linkend="_struct_g_l_f_wvidmode">GLFWvidmode</link>* _glfwGetVideoModesCocoa (<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link> * monitor, int * count)</computeroutput></para><para>
Definition at line 516 of file cocoa_monitor.m.</para>
<programlisting>517 {
518 &#32;&#32;&#32;&#32;@autoreleasepool&#32;{
519 
520 &#32;&#32;&#32;&#32;*<link linkend="_glad_8h_1a5b40aca7a9682963dd00a8f5aef0a901">count</link>&#32;=&#32;0;
521 
522 &#32;&#32;&#32;&#32;CFArrayRef&#32;<link linkend="_unicode_8c_1a94c4c0cf850e916912929ee98dbff3fc">modes</link>&#32;=&#32;CGDisplayCopyAllDisplayModes(monitor-&gt;ns.displayID,&#32;<link linkend="_include_2vally_2config_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>);
523 &#32;&#32;&#32;&#32;<emphasis role="keyword">const</emphasis>&#32;CFIndex&#32;found&#32;=&#32;CFArrayGetCount(<link linkend="_unicode_8c_1a94c4c0cf850e916912929ee98dbff3fc">modes</link>);
524 &#32;&#32;&#32;&#32;<link linkend="_struct_g_l_f_wvidmode">GLFWvidmode</link>*&#32;<link linkend="_structresult">result</link>&#32;=&#32;<link linkend="_init_8c_1afdf24e4f0665535fd3d012b810ffb18f">_glfw_calloc</link>(found,&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_struct_g_l_f_wvidmode">GLFWvidmode</link>));
525 
526 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(CFIndex&#32;i&#32;=&#32;0;&#32;&#32;i&#32;&lt;&#32;found;&#32;&#32;i++)
527 &#32;&#32;&#32;&#32;{
528 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;CGDisplayModeRef&#32;dm&#32;=&#32;(CGDisplayModeRef)&#32;CFArrayGetValueAtIndex(<link linkend="_unicode_8c_1a94c4c0cf850e916912929ee98dbff3fc">modes</link>,&#32;i);
529 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!modeIsGood(dm))
530 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">continue</emphasis>;
531 
532 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">const</emphasis>&#32;<link linkend="_struct_g_l_f_wvidmode">GLFWvidmode</link>&#32;<link linkend="_glad_8h_1a1e71d9c196e4683cc06c4b54d53f7ef5">mode</link>&#32;=
533 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;vidmodeFromCGDisplayMode(dm,&#32;monitor-&gt;ns.fallbackRefreshRate);
534 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;CFIndex&#32;j;
535 
536 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(j&#32;=&#32;0;&#32;&#32;j&#32;&lt;&#32;*<link linkend="_glad_8h_1a5b40aca7a9682963dd00a8f5aef0a901">count</link>;&#32;&#32;j++)
537 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
538 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_internal_8h_1aaca82db2d0453cb2895b0aa5e495387f">_glfwCompareVideoModes</link>(<link linkend="_structresult">result</link>&#32;+&#32;j,&#32;&amp;<link linkend="_glad_8h_1a1e71d9c196e4683cc06c4b54d53f7ef5">mode</link>)&#32;==&#32;0)
539 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
540 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
541 
542 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Skip&#32;duplicate&#32;modes</emphasis>
543 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(j&#32;&lt;&#32;*<link linkend="_glad_8h_1a5b40aca7a9682963dd00a8f5aef0a901">count</link>)
544 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">continue</emphasis>;
545 
546 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;(*count)++;
547 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_structresult">result</link>[*count&#32;-&#32;1]&#32;=&#32;<link linkend="_glad_8h_1a1e71d9c196e4683cc06c4b54d53f7ef5">mode</link>;
548 &#32;&#32;&#32;&#32;}
549 
550 &#32;&#32;&#32;&#32;CFRelease(<link linkend="_unicode_8c_1a94c4c0cf850e916912929ee98dbff3fc">modes</link>);
551 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_glext_8h_1a321ff419cd5252e54cf95e64dc6687ee">result</link>;
552 
553 &#32;&#32;&#32;&#32;}&#32;<emphasis role="comment">//&#32;autoreleasepool</emphasis>
554 }
</programlisting>    </section><anchor xml:id="_cocoa__monitor_8m_1a4993d8c0eef61c250c0d4c18a3d86a64"/>    <section>
    <title>_glfwPollMonitorsCocoa()</title>
<indexterm><primary>_glfwPollMonitorsCocoa</primary><secondary>cocoa_monitor.m</secondary></indexterm>
<indexterm><primary>cocoa_monitor.m</primary><secondary>_glfwPollMonitorsCocoa</secondary></indexterm>
<para><computeroutput><link linkend="_glext_8h_1a46df6112013cf583e82b25cebd5cb499">void</link> _glfwPollMonitorsCocoa (<link linkend="_glext_8h_1a46df6112013cf583e82b25cebd5cb499">void</link> )</computeroutput></para><para>
Definition at line 300 of file cocoa_monitor.m.</para>
<programlisting>301 {
302 &#32;&#32;&#32;&#32;<link linkend="_stdint_8h_1a435d1572bf3f880d55459d9805097f62">uint32_t</link>&#32;displayCount;
303 &#32;&#32;&#32;&#32;CGGetOnlineDisplayList(0,&#32;<link linkend="_include_2vally_2config_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>,&#32;&amp;displayCount);
304 &#32;&#32;&#32;&#32;CGDirectDisplayID*&#32;displays&#32;=&#32;<link linkend="_init_8c_1afdf24e4f0665535fd3d012b810ffb18f">_glfw_calloc</link>(displayCount,&#32;<emphasis role="keyword">sizeof</emphasis>(CGDirectDisplayID));
305 &#32;&#32;&#32;&#32;CGGetOnlineDisplayList(displayCount,&#32;displays,&#32;&amp;displayCount);
306 
307 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;&#32;&#32;i&#32;&lt;&#32;<link linkend="_init_8c_1a3007bc654ca6468ee69759007f70ba1e">_glfw</link>.<link linkend="_struct___g_l_f_wlibrary_1ae3f408467579cb3fb517fcd39fa23568">monitorCount</link>;&#32;&#32;i++)
308 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_init_8c_1a3007bc654ca6468ee69759007f70ba1e">_glfw</link>.<link linkend="_glext_8h_1a3c0106911a867ae012fd008394e41257">monitors</link>[i]-&gt;ns.screen&#32;=&#32;nil;
309 
310 &#32;&#32;&#32;&#32;<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link>**&#32;disconnected&#32;=&#32;<link linkend="_include_2vally_2config_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>;
311 &#32;&#32;&#32;&#32;<link linkend="_stdint_8h_1a435d1572bf3f880d55459d9805097f62">uint32_t</link>&#32;disconnectedCount&#32;=&#32;<link linkend="_init_8c_1a3007bc654ca6468ee69759007f70ba1e">_glfw</link>.<link linkend="_struct___g_l_f_wlibrary_1ae3f408467579cb3fb517fcd39fa23568">monitorCount</link>;
312 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(disconnectedCount)
313 &#32;&#32;&#32;&#32;{
314 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;disconnected&#32;=&#32;<link linkend="_init_8c_1afdf24e4f0665535fd3d012b810ffb18f">_glfw_calloc</link>(<link linkend="_init_8c_1a3007bc654ca6468ee69759007f70ba1e">_glfw</link>.<link linkend="_struct___g_l_f_wlibrary_1ae3f408467579cb3fb517fcd39fa23568">monitorCount</link>,&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link>*));
315 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;memcpy(disconnected,
316 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_init_8c_1a3007bc654ca6468ee69759007f70ba1e">_glfw</link>.<link linkend="_struct___g_l_f_wlibrary_1acb84371972f4d704deb0cdc649a1f1da">monitors</link>,
317 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_init_8c_1a3007bc654ca6468ee69759007f70ba1e">_glfw</link>.<link linkend="_struct___g_l_f_wlibrary_1ae3f408467579cb3fb517fcd39fa23568">monitorCount</link>&#32;*&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link>*));
318 &#32;&#32;&#32;&#32;}
319 
320 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<link linkend="_stdint_8h_1a435d1572bf3f880d55459d9805097f62">uint32_t</link>&#32;i&#32;=&#32;0;&#32;&#32;i&#32;&lt;&#32;displayCount;&#32;&#32;i++)
321 &#32;&#32;&#32;&#32;{
322 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(CGDisplayIsAsleep(displays[i]))
323 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">continue</emphasis>;
324 
325 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">const</emphasis>&#32;<link linkend="_stdint_8h_1a435d1572bf3f880d55459d9805097f62">uint32_t</link>&#32;unitNumber&#32;=&#32;CGDisplayUnitNumber(displays[i]);
326 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;NSScreen*&#32;screen&#32;=&#32;nil;
327 
328 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(screen&#32;<link linkend="_glext_8h_1a83ad0ee7f1e06b59c90271716e689080">in</link>&#32;[NSScreen&#32;screens])
329 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
330 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;NSNumber*&#32;screenNumber&#32;=&#32;[screen&#32;deviceDescription][@&quot;NSScreenNumber&quot;];
331 
332 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;HACK:&#32;Compare&#32;unit&#32;numbers&#32;instead&#32;of&#32;display&#32;IDs&#32;to&#32;work&#32;around</emphasis>
333 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;display&#32;replacement&#32;on&#32;machines&#32;with&#32;automatic&#32;graphics</emphasis>
334 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;switching</emphasis>
335 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(CGDisplayUnitNumber([screenNumber&#32;unsignedIntValue])&#32;==&#32;unitNumber)
336 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
337 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
338 
339 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;HACK:&#32;Compare&#32;unit&#32;numbers&#32;instead&#32;of&#32;display&#32;IDs&#32;to&#32;work&#32;around</emphasis>
340 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;display&#32;replacement&#32;on&#32;machines&#32;with&#32;automatic&#32;graphics</emphasis>
341 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;switching</emphasis>
342 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_stdint_8h_1a435d1572bf3f880d55459d9805097f62">uint32_t</link>&#32;j;
343 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(j&#32;=&#32;0;&#32;&#32;j&#32;&lt;&#32;disconnectedCount;&#32;&#32;j++)
344 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
345 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(disconnected[j]&#32;&amp;&amp;&#32;disconnected[j]-&gt;ns.unitNumber&#32;==&#32;unitNumber)
346 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
347 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;disconnected[j]-&gt;ns.screen&#32;=&#32;screen;
348 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;disconnected[j]&#32;=&#32;NULL;
349 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;break;
350 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
351 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
352 
353 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(j&#32;&lt;&#32;disconnectedCount)
354 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">continue</emphasis>;
355 
356 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">const</emphasis>&#32;CGSize&#32;<link linkend="_glad_8h_1a3d1e3edfcf61ca2d831883e1afbad89e">size</link>&#32;=&#32;CGDisplayScreenSize(displays[i]);
357 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">char</emphasis>*&#32;<link linkend="_glad_8h_1ad977737dfc9a274a62741b9500c49a32">name</link>&#32;=&#32;getMonitorName(displays[i],&#32;screen);
358 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!<link linkend="_glad_8h_1ad977737dfc9a274a62741b9500c49a32">name</link>)
359 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">continue</emphasis>;
360 
361 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link>*&#32;monitor&#32;=&#32;<link linkend="_internal_8h_1aba9010067229bd447389b85b22f15b72">_glfwAllocMonitor</link>(<link linkend="_glad_8h_1ad977737dfc9a274a62741b9500c49a32">name</link>,&#32;<link linkend="_glad_8h_1a3d1e3edfcf61ca2d831883e1afbad89e">size</link>.width,&#32;<link linkend="_glad_8h_1a3d1e3edfcf61ca2d831883e1afbad89e">size</link>.height);
362 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;monitor-&gt;ns.displayID&#32;&#32;=&#32;displays[i];
363 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;monitor-&gt;ns.unitNumber&#32;=&#32;unitNumber;
364 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;monitor-&gt;ns.screen&#32;&#32;&#32;&#32;&#32;=&#32;screen;
365 
366 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_init_8c_1abcf72962b101a8a5c539da1a278b0e9e">_glfw_free</link>(<link linkend="_glad_8h_1ad977737dfc9a274a62741b9500c49a32">name</link>);
367 
368 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;CGDisplayModeRef&#32;<link linkend="_glad_8h_1a1e71d9c196e4683cc06c4b54d53f7ef5">mode</link>&#32;=&#32;CGDisplayCopyDisplayMode(displays[i]);
369 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(CGDisplayModeGetRefreshRate(<link linkend="_glad_8h_1a1e71d9c196e4683cc06c4b54d53f7ef5">mode</link>)&#32;==&#32;0.0)
370 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;monitor-&gt;ns.fallbackRefreshRate&#32;=&#32;getFallbackRefreshRate(displays[i]);
371 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;CGDisplayModeRelease(<link linkend="_glad_8h_1a1e71d9c196e4683cc06c4b54d53f7ef5">mode</link>);
372 
373 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_internal_8h_1a2a45c0c0677b73011b7364e2cdd9760d">_glfwInputMonitor</link>(monitor,&#32;<link linkend="_glfw3_8h_1abe11513fd1ffbee5bb9b173f06028b9e">GLFW_CONNECTED</link>,&#32;<link linkend="_internal_8h_1abc25b1b7cd5fe7f2fe3d010f0d1867ba">_GLFW_INSERT_LAST</link>);
374 &#32;&#32;&#32;&#32;}
375 
376 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<link linkend="_stdint_8h_1a435d1572bf3f880d55459d9805097f62">uint32_t</link>&#32;i&#32;=&#32;0;&#32;&#32;i&#32;&lt;&#32;disconnectedCount;&#32;&#32;i++)
377 &#32;&#32;&#32;&#32;{
378 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(disconnected[i])
379 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_internal_8h_1a2a45c0c0677b73011b7364e2cdd9760d">_glfwInputMonitor</link>(disconnected[i],&#32;<link linkend="_glfw3_8h_1aab64b25921ef21d89252d6f0a71bfc32">GLFW_DISCONNECTED</link>,&#32;0);
380 &#32;&#32;&#32;&#32;}
381 
382 &#32;&#32;&#32;&#32;<link linkend="_init_8c_1abcf72962b101a8a5c539da1a278b0e9e">_glfw_free</link>(disconnected);
383 &#32;&#32;&#32;&#32;<link linkend="_init_8c_1abcf72962b101a8a5c539da1a278b0e9e">_glfw_free</link>(displays);
384 }
</programlisting>    </section><anchor xml:id="_cocoa__monitor_8m_1ac99be3bd7c1ec6c288e72b69734b5204"/>    <section>
    <title>_glfwRestoreVideoModeCocoa()</title>
<indexterm><primary>_glfwRestoreVideoModeCocoa</primary><secondary>cocoa_monitor.m</secondary></indexterm>
<indexterm><primary>cocoa_monitor.m</primary><secondary>_glfwRestoreVideoModeCocoa</secondary></indexterm>
<para><computeroutput><link linkend="_glext_8h_1a46df6112013cf583e82b25cebd5cb499">void</link> _glfwRestoreVideoModeCocoa (<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link> * monitor)</computeroutput></para><para>
Definition at line 431 of file cocoa_monitor.m.</para>
<programlisting>432 {
433 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(monitor-&gt;ns.previousMode)
434 &#32;&#32;&#32;&#32;{
435 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;CGDisplayFadeReservationToken&#32;token&#32;=&#32;beginFadeReservation();
436 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;CGDisplaySetDisplayMode(monitor-&gt;ns.displayID,
437 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;monitor-&gt;ns.previousMode,&#32;<link linkend="_include_2vally_2config_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>);
438 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;endFadeReservation(token);
439 
440 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;CGDisplayModeRelease(monitor-&gt;ns.previousMode);
441 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;monitor-&gt;ns.previousMode&#32;=&#32;<link linkend="_include_2vally_2config_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>;
442 &#32;&#32;&#32;&#32;}
443 }
</programlisting>    </section><anchor xml:id="_cocoa__monitor_8m_1ae7fb22fad6b99d5e7066540a70920c0c"/>    <section>
    <title>_glfwSetGammaRampCocoa()</title>
<indexterm><primary>_glfwSetGammaRampCocoa</primary><secondary>cocoa_monitor.m</secondary></indexterm>
<indexterm><primary>cocoa_monitor.m</primary><secondary>_glfwSetGammaRampCocoa</secondary></indexterm>
<para><computeroutput><link linkend="_glext_8h_1a46df6112013cf583e82b25cebd5cb499">void</link> _glfwSetGammaRampCocoa (<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link> * monitor, const <link linkend="_struct_g_l_f_wgammaramp">GLFWgammaramp</link> * ramp)</computeroutput></para><para>
Definition at line 596 of file cocoa_monitor.m.</para>
<programlisting>597 {
598 &#32;&#32;&#32;&#32;@autoreleasepool&#32;{
599 
600 &#32;&#32;&#32;&#32;CGGammaValue*&#32;<link linkend="_glad_8h_1a0aa8cf39c79d294b1d9f4daef5020bec">values</link>&#32;=&#32;<link linkend="_init_8c_1afdf24e4f0665535fd3d012b810ffb18f">_glfw_calloc</link>(ramp-&gt;<link linkend="_struct_g_l_f_wgammaramp_1ad620e1cffbff9a32c51bca46301b59a5">size</link>&#32;*&#32;3,&#32;<emphasis role="keyword">sizeof</emphasis>(CGGammaValue));
601 
602 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;&#32;&#32;i&#32;&lt;&#32;ramp-&gt;<link linkend="_struct_g_l_f_wgammaramp_1ad620e1cffbff9a32c51bca46301b59a5">size</link>;&#32;&#32;i++)
603 &#32;&#32;&#32;&#32;{
604 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_glad_8h_1a0aa8cf39c79d294b1d9f4daef5020bec">values</link>[i]&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;ramp-&gt;<link linkend="_struct_g_l_f_wgammaramp_1a2cce5d968734b685623eef913e635138">red</link>[i]&#32;/&#32;65535.f;
605 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_glad_8h_1a0aa8cf39c79d294b1d9f4daef5020bec">values</link>[i&#32;+&#32;ramp-&gt;size]&#32;&#32;&#32;&#32;&#32;=&#32;ramp-&gt;<link linkend="_struct_g_l_f_wgammaramp_1affccc6f5df47820b6562d709da3a5a3a">green</link>[i]&#32;/&#32;65535.f;
606 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_glad_8h_1a0aa8cf39c79d294b1d9f4daef5020bec">values</link>[i&#32;+&#32;ramp-&gt;size&#32;*&#32;2]&#32;=&#32;ramp-&gt;<link linkend="_struct_g_l_f_wgammaramp_1acf0c836d0efe29c392fe8d1a1042744b">blue</link>[i]&#32;/&#32;65535.f;
607 &#32;&#32;&#32;&#32;}
608 
609 &#32;&#32;&#32;&#32;CGSetDisplayTransferByTable(monitor-&gt;ns.displayID,
610 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ramp-&gt;<link linkend="_struct_g_l_f_wgammaramp_1ad620e1cffbff9a32c51bca46301b59a5">size</link>,
611 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_glad_8h_1a0aa8cf39c79d294b1d9f4daef5020bec">values</link>,
612 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_glad_8h_1a0aa8cf39c79d294b1d9f4daef5020bec">values</link>&#32;+&#32;ramp-&gt;<link linkend="_struct_g_l_f_wgammaramp_1ad620e1cffbff9a32c51bca46301b59a5">size</link>,
613 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_glad_8h_1a0aa8cf39c79d294b1d9f4daef5020bec">values</link>&#32;+&#32;ramp-&gt;<link linkend="_struct_g_l_f_wgammaramp_1ad620e1cffbff9a32c51bca46301b59a5">size</link>&#32;*&#32;2);
614 
615 &#32;&#32;&#32;&#32;<link linkend="_init_8c_1abcf72962b101a8a5c539da1a278b0e9e">_glfw_free</link>(<link linkend="_glad_8h_1a0aa8cf39c79d294b1d9f4daef5020bec">values</link>);
616 
617 &#32;&#32;&#32;&#32;}&#32;<emphasis role="comment">//&#32;autoreleasepool</emphasis>
618 }
</programlisting>    </section><anchor xml:id="_cocoa__monitor_8m_1a3281031c189cfb8ca742500ef5683232"/>    <section>
    <title>_glfwSetVideoModeCocoa()</title>
<indexterm><primary>_glfwSetVideoModeCocoa</primary><secondary>cocoa_monitor.m</secondary></indexterm>
<indexterm><primary>cocoa_monitor.m</primary><secondary>_glfwSetVideoModeCocoa</secondary></indexterm>
<para><computeroutput><link linkend="_glext_8h_1a46df6112013cf583e82b25cebd5cb499">void</link> _glfwSetVideoModeCocoa (<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link> * monitor, const <link linkend="_struct_g_l_f_wvidmode">GLFWvidmode</link> * desired)</computeroutput></para><para>
Definition at line 388 of file cocoa_monitor.m.</para>
<programlisting>389 {
390 &#32;&#32;&#32;&#32;<link linkend="_struct_g_l_f_wvidmode">GLFWvidmode</link>&#32;current;
391 &#32;&#32;&#32;&#32;<link linkend="_cocoa__monitor_8m_1ac865ece607a79f692e134ca650443966">_glfwGetVideoModeCocoa</link>(monitor,&#32;&amp;current);
392 
393 &#32;&#32;&#32;&#32;<emphasis role="keyword">const</emphasis>&#32;<link linkend="_struct_g_l_f_wvidmode">GLFWvidmode</link>*&#32;best&#32;=&#32;<link linkend="_internal_8h_1acf6b57bbbf447209081a27abdc00465c">_glfwChooseVideoMode</link>(monitor,&#32;desired);
394 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_internal_8h_1aaca82db2d0453cb2895b0aa5e495387f">_glfwCompareVideoModes</link>(&amp;current,&#32;best)&#32;==&#32;0)
395 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
396 
397 &#32;&#32;&#32;&#32;CFArrayRef&#32;<link linkend="_unicode_8c_1a94c4c0cf850e916912929ee98dbff3fc">modes</link>&#32;=&#32;CGDisplayCopyAllDisplayModes(monitor-&gt;ns.displayID,&#32;<link linkend="_include_2vally_2config_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>);
398 &#32;&#32;&#32;&#32;<emphasis role="keyword">const</emphasis>&#32;CFIndex&#32;<link linkend="_glad_8h_1a5b40aca7a9682963dd00a8f5aef0a901">count</link>&#32;=&#32;CFArrayGetCount(<link linkend="_unicode_8c_1a94c4c0cf850e916912929ee98dbff3fc">modes</link>);
399 &#32;&#32;&#32;&#32;CGDisplayModeRef&#32;native&#32;=&#32;<link linkend="_include_2vally_2config_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>;
400 
401 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(CFIndex&#32;i&#32;=&#32;0;&#32;&#32;i&#32;&lt;&#32;<link linkend="_glad_8h_1a5b40aca7a9682963dd00a8f5aef0a901">count</link>;&#32;&#32;i++)
402 &#32;&#32;&#32;&#32;{
403 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;CGDisplayModeRef&#32;dm&#32;=&#32;(CGDisplayModeRef)&#32;CFArrayGetValueAtIndex(<link linkend="_unicode_8c_1a94c4c0cf850e916912929ee98dbff3fc">modes</link>,&#32;i);
404 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!modeIsGood(dm))
405 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">continue</emphasis>;
406 
407 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">const</emphasis>&#32;<link linkend="_struct_g_l_f_wvidmode">GLFWvidmode</link>&#32;<link linkend="_glad_8h_1a1e71d9c196e4683cc06c4b54d53f7ef5">mode</link>&#32;=
408 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;vidmodeFromCGDisplayMode(dm,&#32;monitor-&gt;ns.fallbackRefreshRate);
409 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_internal_8h_1aaca82db2d0453cb2895b0aa5e495387f">_glfwCompareVideoModes</link>(best,&#32;&amp;<link linkend="_glad_8h_1a1e71d9c196e4683cc06c4b54d53f7ef5">mode</link>)&#32;==&#32;0)
410 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
411 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;native&#32;=&#32;dm;
412 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
413 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
414 &#32;&#32;&#32;&#32;}
415 
416 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(native)
417 &#32;&#32;&#32;&#32;{
418 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(monitor-&gt;ns.previousMode&#32;==&#32;<link linkend="_include_2vally_2config_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>)
419 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;monitor-&gt;ns.previousMode&#32;=&#32;CGDisplayCopyDisplayMode(monitor-&gt;ns.displayID);
420 
421 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;CGDisplayFadeReservationToken&#32;token&#32;=&#32;beginFadeReservation();
422 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;CGDisplaySetDisplayMode(monitor-&gt;ns.displayID,&#32;native,&#32;<link linkend="_include_2vally_2config_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</link>);
423 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;endFadeReservation(token);
424 &#32;&#32;&#32;&#32;}
425 
426 &#32;&#32;&#32;&#32;CFRelease(<link linkend="_unicode_8c_1a94c4c0cf850e916912929ee98dbff3fc">modes</link>);
427 }
</programlisting>    </section><anchor xml:id="_cocoa__monitor_8m_1a9d3a74d6ba74ed963c70a4e1bab25b57"/>    <section>
    <title>glfwGetCocoaMonitor()</title>
<indexterm><primary>glfwGetCocoaMonitor</primary><secondary>cocoa_monitor.m</secondary></indexterm>
<indexterm><primary>cocoa_monitor.m</primary><secondary>glfwGetCocoaMonitor</secondary></indexterm>
<para><computeroutput><link linkend="_glfw3_8h_1a56da5036b2cc259351ae22fd6439bb47">GLFWAPI</link> CGDirectDisplayID glfwGetCocoaMonitor (<link linkend="_group__monitor_1ga8d9efd1cde9426692c73fe40437d0ae3">GLFWmonitor</link> * handle)</computeroutput></para><para>
Definition at line 625 of file cocoa_monitor.m.</para>
<programlisting>626 {
627 &#32;&#32;&#32;&#32;<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link>*&#32;monitor&#32;=&#32;(<link linkend="_struct___g_l_f_wmonitor">_GLFWmonitor</link>*)&#32;handle;
628 &#32;&#32;&#32;&#32;<link linkend="_internal_8h_1a69563c87fe776d416636a4d1b0e9e599">_GLFW_REQUIRE_INIT_OR_RETURN</link>(kCGNullDirectDisplay);
629 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;monitor-&gt;ns.displayID;
630 }
</programlisting></section>
</section>
</section>
