\hypertarget{texture_8c}{}\doxysection{src/vally/renderer/texture.c File Reference}
\label{texture_8c}\index{src/vally/renderer/texture.c@{src/vally/renderer/texture.c}}
{\ttfamily \#include $<$vally/renderer/texture.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$glad/glad.\+h$>$}\newline
{\ttfamily \#include $<$vally/core/logger.\+h$>$}\newline
{\ttfamily \#include $<$vally/resources/resources.\+h$>$}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structtexture}{texture}} $\ast$ \mbox{\hyperlink{texture_8c_af14f5139f6bfc5968d335b9705e45820}{texture\+\_\+create}} (\mbox{\hyperlink{structimage}{image}} $\ast$\mbox{\hyperlink{structimage}{image}})
\begin{DoxyCompactList}\small\item\em Creates new texture from image. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structtexture}{texture}} $\ast$ \mbox{\hyperlink{texture_8c_abc90292f8765f0c1add26d78cfd21dd4}{texture\+\_\+white\+\_\+create}} ()
\item 
\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} \mbox{\hyperlink{texture_8c_aa6ec5f9134f98a38d901418656e43499}{texture\+\_\+destroy}} (\mbox{\hyperlink{structtexture}{texture}} $\ast$\mbox{\hyperlink{structtexture}{texture}})
\item 
\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} \mbox{\hyperlink{texture_8c_ad2cb3b0ccaa6894880ef2ac785705f29}{texture\+\_\+bind}} (\mbox{\hyperlink{include_2vally_2config_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} unit, \mbox{\hyperlink{structtexture}{texture}} $\ast$\mbox{\hyperlink{structtexture}{texture}})
\item 
\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} \mbox{\hyperlink{texture_8c_a18f570cb1aaaaaf21d0a61216a35fdb5}{texture\+\_\+unbind}} ()
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{texture_8c_ad2cb3b0ccaa6894880ef2ac785705f29}\label{texture_8c_ad2cb3b0ccaa6894880ef2ac785705f29}} 
\index{texture.c@{texture.c}!texture\_bind@{texture\_bind}}
\index{texture\_bind@{texture\_bind}!texture.c@{texture.c}}
\doxysubsubsection{\texorpdfstring{texture\_bind()}{texture\_bind()}}
{\footnotesize\ttfamily \mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} texture\+\_\+bind (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{include_2vally_2config_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{unit,  }\item[{\mbox{\hyperlink{structtexture}{texture}} $\ast$}]{texture }\end{DoxyParamCaption})}



Definition at line 88 of file texture.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{88                                               \{}
\DoxyCodeLine{89   \mbox{\hyperlink{glad_8h_af15266b67de988f5ddf442bbbdd1b3fc}{glActiveTexture}}(\mbox{\hyperlink{glad_8h_a16cc91096144fc7048b45e2add14915b}{GL\_TEXTURE0}} + unit);}
\DoxyCodeLine{90   \mbox{\hyperlink{glad_8h_a987aecafceffb9afaef11412d42e605b}{glBindTexture}}(\mbox{\hyperlink{glad_8h_ad4de17abefa73fa2ef53379f73b734be}{GL\_TEXTURE\_2D}}, \mbox{\hyperlink{structtexture}{texture}}-\/>\mbox{\hyperlink{structtexture_a80d0e2a9d244ce65a29cb87e5db5c695}{id}});}
\DoxyCodeLine{91 \}}

\end{DoxyCode}
\mbox{\Hypertarget{texture_8c_af14f5139f6bfc5968d335b9705e45820}\label{texture_8c_af14f5139f6bfc5968d335b9705e45820}} 
\index{texture.c@{texture.c}!texture\_create@{texture\_create}}
\index{texture\_create@{texture\_create}!texture.c@{texture.c}}
\doxysubsubsection{\texorpdfstring{texture\_create()}{texture\_create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structtexture}{texture}}$\ast$ texture\+\_\+create (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structimage}{image}} $\ast$}]{image }\end{DoxyParamCaption})}



Creates new texture from image. 


\begin{DoxyParams}{Parameters}
{\em img} & image source \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
textureS 
\end{DoxyReturn}


Definition at line 34 of file texture.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{34                                       \{}
\DoxyCodeLine{35   \mbox{\hyperlink{structtexture}{texture}} *\_texture = (\mbox{\hyperlink{structtexture}{texture}} *)\mbox{\hyperlink{stb__leakcheck_8h_ac71ce303a4b993665ae00f1e1293ba8b}{malloc}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structtexture}{texture}}));}
\DoxyCodeLine{36   \textcolor{keywordflow}{if} (!\_texture) \{}
\DoxyCodeLine{37     \mbox{\hyperlink{logger_8h_ae5066a2e77390ed60a2e2a98c374c520}{VALLY\_ERROR}}(\textcolor{stringliteral}{"Could not create texture"});}
\DoxyCodeLine{38   \}}
\DoxyCodeLine{39 }
\DoxyCodeLine{40   \textcolor{comment}{// Generate OpenGL Texture}}
\DoxyCodeLine{41   \mbox{\hyperlink{glad_8h_a82ac4415f852b8b5bfe7356202ca934e}{glGenTextures}}(1, \&\_texture-\/>\mbox{\hyperlink{structtexture_a80d0e2a9d244ce65a29cb87e5db5c695}{id}});}
\DoxyCodeLine{42   \mbox{\hyperlink{glad_8h_a987aecafceffb9afaef11412d42e605b}{glBindTexture}}(\mbox{\hyperlink{glad_8h_ad4de17abefa73fa2ef53379f73b734be}{GL\_TEXTURE\_2D}}, \_texture-\/>\mbox{\hyperlink{structtexture_a80d0e2a9d244ce65a29cb87e5db5c695}{id}});}
\DoxyCodeLine{43 }
\DoxyCodeLine{44   \textcolor{comment}{// Configure texture parameters}}
\DoxyCodeLine{45   \mbox{\hyperlink{glad_8h_a5817fa85137822142b4951eacd0154e7}{glTexParameteri}}(\mbox{\hyperlink{glad_8h_ad4de17abefa73fa2ef53379f73b734be}{GL\_TEXTURE\_2D}}, \mbox{\hyperlink{glad_8h_a23a0bc2909cc2f79fe7287aaa044e880}{GL\_TEXTURE\_WRAP\_S}}, \mbox{\hyperlink{glad_8h_ae90f81f48642444b4ba7fa5cacf40569}{GL\_CLAMP\_TO\_EDGE}}); }
\DoxyCodeLine{46   \mbox{\hyperlink{glad_8h_a5817fa85137822142b4951eacd0154e7}{glTexParameteri}}(\mbox{\hyperlink{glad_8h_ad4de17abefa73fa2ef53379f73b734be}{GL\_TEXTURE\_2D}}, \mbox{\hyperlink{glad_8h_ac307a4772e1d3decd5b6f36192113ab6}{GL\_TEXTURE\_WRAP\_T}}, \mbox{\hyperlink{glad_8h_ae90f81f48642444b4ba7fa5cacf40569}{GL\_CLAMP\_TO\_EDGE}}); }
\DoxyCodeLine{47   \mbox{\hyperlink{glad_8h_a5817fa85137822142b4951eacd0154e7}{glTexParameteri}}(\mbox{\hyperlink{glad_8h_ad4de17abefa73fa2ef53379f73b734be}{GL\_TEXTURE\_2D}}, \mbox{\hyperlink{glad_8h_a173a2b2453322dd8d613df6cf2e72480}{GL\_TEXTURE\_MIN\_FILTER}}, \mbox{\hyperlink{glad_8h_a7ec02582a9b1c390908a2230c8e26c0b}{GL\_NEAREST}});}
\DoxyCodeLine{48   \mbox{\hyperlink{glad_8h_a5817fa85137822142b4951eacd0154e7}{glTexParameteri}}(\mbox{\hyperlink{glad_8h_ad4de17abefa73fa2ef53379f73b734be}{GL\_TEXTURE\_2D}}, \mbox{\hyperlink{glad_8h_acb47a41b5963d44826f44b7370bccc26}{GL\_TEXTURE\_MAG\_FILTER}}, \mbox{\hyperlink{glad_8h_a7ec02582a9b1c390908a2230c8e26c0b}{GL\_NEAREST}});}
\DoxyCodeLine{49 }
\DoxyCodeLine{50   \_texture-\/>\mbox{\hyperlink{structtexture_af1c60d7f83164b192685cc53a15ebd6b}{width}} = \mbox{\hyperlink{structimage}{image}}-\/>\mbox{\hyperlink{structimage_a42ecfe2675278f6b7e70033e3ff89e4a}{width}};}
\DoxyCodeLine{51   \_texture-\/>\mbox{\hyperlink{structtexture_a6c617792e2e0312db7ef3e475ac4b635}{height}} = \mbox{\hyperlink{structimage}{image}}-\/>\mbox{\hyperlink{structimage_aa478e4be0fe527274f9233cc11ec71e9}{height}};  \textcolor{comment}{// Binding image to the texture}}
\DoxyCodeLine{52   \mbox{\hyperlink{glad_8h_a7da97095b562f67f161b50104776a66d}{glTexImage2D}}(\mbox{\hyperlink{glad_8h_ad4de17abefa73fa2ef53379f73b734be}{GL\_TEXTURE\_2D}}, 0, \mbox{\hyperlink{glad_8h_a9f2854f4a91a0d83d2d54cb8110bfca4}{GL\_RGBA}}, \_texture-\/>\mbox{\hyperlink{structtexture_af1c60d7f83164b192685cc53a15ebd6b}{width}}, \_texture-\/>\mbox{\hyperlink{structtexture_a6c617792e2e0312db7ef3e475ac4b635}{height}}, 0, \mbox{\hyperlink{glad_8h_a9f2854f4a91a0d83d2d54cb8110bfca4}{GL\_RGBA}}, \mbox{\hyperlink{glad_8h_a80a33c79f69417372d65d2a65ca36d49}{GL\_UNSIGNED\_BYTE}}, \mbox{\hyperlink{structimage}{image}}-\/>\mbox{\hyperlink{structimage_aecf7dbb8a46058432c245ff52e4fce82}{buffer}});}
\DoxyCodeLine{53 }
\DoxyCodeLine{54   \mbox{\hyperlink{glad_8h_a987aecafceffb9afaef11412d42e605b}{glBindTexture}}(\mbox{\hyperlink{glad_8h_ad4de17abefa73fa2ef53379f73b734be}{GL\_TEXTURE\_2D}}, 0);}
\DoxyCodeLine{55 }
\DoxyCodeLine{56   \mbox{\hyperlink{resources_8c_a16641af0e8abb4648df5964f32f30adb}{resources\_add}}(\_texture, \mbox{\hyperlink{texture_8c_aa6ec5f9134f98a38d901418656e43499}{texture\_destroy}});}
\DoxyCodeLine{57 }
\DoxyCodeLine{58   \textcolor{keywordflow}{return} \_texture;}
\DoxyCodeLine{59 \}}

\end{DoxyCode}
\mbox{\Hypertarget{texture_8c_aa6ec5f9134f98a38d901418656e43499}\label{texture_8c_aa6ec5f9134f98a38d901418656e43499}} 
\index{texture.c@{texture.c}!texture\_destroy@{texture\_destroy}}
\index{texture\_destroy@{texture\_destroy}!texture.c@{texture.c}}
\doxysubsubsection{\texorpdfstring{texture\_destroy()}{texture\_destroy()}}
{\footnotesize\ttfamily \mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} texture\+\_\+destroy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structtexture}{texture}} $\ast$}]{texture }\end{DoxyParamCaption})}



Definition at line 83 of file texture.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{83                                        \{}
\DoxyCodeLine{84   \mbox{\hyperlink{glad_8h_aedf2546140e2c0f0e8d6f62e9998ae73}{glDeleteTextures}}(1, \&\mbox{\hyperlink{structtexture}{texture}}-\/>\mbox{\hyperlink{structtexture_a80d0e2a9d244ce65a29cb87e5db5c695}{id}});}
\DoxyCodeLine{85   \mbox{\hyperlink{stb__leakcheck_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}}(\mbox{\hyperlink{structtexture}{texture}});}
\DoxyCodeLine{86 \}}

\end{DoxyCode}
\mbox{\Hypertarget{texture_8c_a18f570cb1aaaaaf21d0a61216a35fdb5}\label{texture_8c_a18f570cb1aaaaaf21d0a61216a35fdb5}} 
\index{texture.c@{texture.c}!texture\_unbind@{texture\_unbind}}
\index{texture\_unbind@{texture\_unbind}!texture.c@{texture.c}}
\doxysubsubsection{\texorpdfstring{texture\_unbind()}{texture\_unbind()}}
{\footnotesize\ttfamily \mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} texture\+\_\+unbind (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 93 of file texture.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{93                       \{}
\DoxyCodeLine{94   \mbox{\hyperlink{glad_8h_a987aecafceffb9afaef11412d42e605b}{glBindTexture}}(\mbox{\hyperlink{glad_8h_ad4de17abefa73fa2ef53379f73b734be}{GL\_TEXTURE\_2D}}, 0);}
\DoxyCodeLine{95 \}}

\end{DoxyCode}
\mbox{\Hypertarget{texture_8c_abc90292f8765f0c1add26d78cfd21dd4}\label{texture_8c_abc90292f8765f0c1add26d78cfd21dd4}} 
\index{texture.c@{texture.c}!texture\_white\_create@{texture\_white\_create}}
\index{texture\_white\_create@{texture\_white\_create}!texture.c@{texture.c}}
\doxysubsubsection{\texorpdfstring{texture\_white\_create()}{texture\_white\_create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structtexture}{texture}}$\ast$ texture\+\_\+white\+\_\+create (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 61 of file texture.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{61                                 \{}
\DoxyCodeLine{62   \mbox{\hyperlink{structtexture}{texture}} *\_texture = (\mbox{\hyperlink{structtexture}{texture}} *)\mbox{\hyperlink{stb__leakcheck_8h_ac71ce303a4b993665ae00f1e1293ba8b}{malloc}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structtexture}{texture}}));}
\DoxyCodeLine{63   \textcolor{keywordflow}{if} (!\_texture) \{}
\DoxyCodeLine{64     \mbox{\hyperlink{logger_8h_ae5066a2e77390ed60a2e2a98c374c520}{VALLY\_ERROR}}(\textcolor{stringliteral}{"Could not create texture"});}
\DoxyCodeLine{65   \}}
\DoxyCodeLine{66   \_texture-\/>\mbox{\hyperlink{structtexture_af1c60d7f83164b192685cc53a15ebd6b}{width}} = 1;}
\DoxyCodeLine{67   \_texture-\/>\mbox{\hyperlink{structtexture_a6c617792e2e0312db7ef3e475ac4b635}{height}} = 1;}
\DoxyCodeLine{68 }
\DoxyCodeLine{69   \textcolor{comment}{// generate white texture}}
\DoxyCodeLine{70   \mbox{\hyperlink{glad_8h_a82ac4415f852b8b5bfe7356202ca934e}{glGenTextures}}(1, \&\_texture-\/>\mbox{\hyperlink{structtexture_a80d0e2a9d244ce65a29cb87e5db5c695}{id}});}
\DoxyCodeLine{71   \mbox{\hyperlink{glad_8h_a987aecafceffb9afaef11412d42e605b}{glBindTexture}}(\mbox{\hyperlink{glad_8h_ad4de17abefa73fa2ef53379f73b734be}{GL\_TEXTURE\_2D}}, \_texture-\/>\mbox{\hyperlink{structtexture_a80d0e2a9d244ce65a29cb87e5db5c695}{id}});}
\DoxyCodeLine{72   \mbox{\hyperlink{glad_8h_a5817fa85137822142b4951eacd0154e7}{glTexParameteri}}( \mbox{\hyperlink{glad_8h_ad4de17abefa73fa2ef53379f73b734be}{GL\_TEXTURE\_2D}}, \mbox{\hyperlink{glad_8h_a23a0bc2909cc2f79fe7287aaa044e880}{GL\_TEXTURE\_WRAP\_S}}, \mbox{\hyperlink{glad_8h_ae90f81f48642444b4ba7fa5cacf40569}{GL\_CLAMP\_TO\_EDGE}});  }
\DoxyCodeLine{73   \mbox{\hyperlink{glad_8h_a5817fa85137822142b4951eacd0154e7}{glTexParameteri}}( \mbox{\hyperlink{glad_8h_ad4de17abefa73fa2ef53379f73b734be}{GL\_TEXTURE\_2D}}, \mbox{\hyperlink{glad_8h_ac307a4772e1d3decd5b6f36192113ab6}{GL\_TEXTURE\_WRAP\_T}}, \mbox{\hyperlink{glad_8h_ae90f81f48642444b4ba7fa5cacf40569}{GL\_CLAMP\_TO\_EDGE}}); }
\DoxyCodeLine{74   \mbox{\hyperlink{glad_8h_a5817fa85137822142b4951eacd0154e7}{glTexParameteri}}(\mbox{\hyperlink{glad_8h_ad4de17abefa73fa2ef53379f73b734be}{GL\_TEXTURE\_2D}}, \mbox{\hyperlink{glad_8h_a173a2b2453322dd8d613df6cf2e72480}{GL\_TEXTURE\_MIN\_FILTER}}, \mbox{\hyperlink{glad_8h_a7ec02582a9b1c390908a2230c8e26c0b}{GL\_NEAREST}});}
\DoxyCodeLine{75   \mbox{\hyperlink{glad_8h_a5817fa85137822142b4951eacd0154e7}{glTexParameteri}}(\mbox{\hyperlink{glad_8h_ad4de17abefa73fa2ef53379f73b734be}{GL\_TEXTURE\_2D}}, \mbox{\hyperlink{glad_8h_acb47a41b5963d44826f44b7370bccc26}{GL\_TEXTURE\_MAG\_FILTER}}, \mbox{\hyperlink{glad_8h_a7ec02582a9b1c390908a2230c8e26c0b}{GL\_NEAREST}});}
\DoxyCodeLine{76   \mbox{\hyperlink{include_2vally_2config_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} \mbox{\hyperlink{glad_8h_a3ea846f998d64f079b86052b6c4193a8}{color}} = 0xffffffff; \textcolor{comment}{// white color}}
\DoxyCodeLine{77   \mbox{\hyperlink{glad_8h_a7da97095b562f67f161b50104776a66d}{glTexImage2D}}(\mbox{\hyperlink{glad_8h_ad4de17abefa73fa2ef53379f73b734be}{GL\_TEXTURE\_2D}}, 0, \mbox{\hyperlink{glad_8h_a9f2854f4a91a0d83d2d54cb8110bfca4}{GL\_RGBA}}, 1, 1, 0, \mbox{\hyperlink{glad_8h_a9f2854f4a91a0d83d2d54cb8110bfca4}{GL\_RGBA}}, \mbox{\hyperlink{glad_8h_a80a33c79f69417372d65d2a65ca36d49}{GL\_UNSIGNED\_BYTE}}, \&\mbox{\hyperlink{glad_8h_a3ea846f998d64f079b86052b6c4193a8}{color}});}
\DoxyCodeLine{78   \mbox{\hyperlink{glad_8h_a987aecafceffb9afaef11412d42e605b}{glBindTexture}}(\mbox{\hyperlink{glad_8h_ad4de17abefa73fa2ef53379f73b734be}{GL\_TEXTURE\_2D}}, 0);}
\DoxyCodeLine{79 }
\DoxyCodeLine{80   \textcolor{keywordflow}{return} \_texture;}
\DoxyCodeLine{81 \}}

\end{DoxyCode}
