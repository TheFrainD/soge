\hypertarget{tinycthread_8c}{}\doxysection{deps/glfw/deps/tinycthread.c File Reference}
\label{tinycthread_8c}\index{deps/glfw/deps/tinycthread.c@{deps/glfw/deps/tinycthread.c}}
{\ttfamily \#include \char`\"{}tinycthread.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$signal.\+h$>$}\newline
{\ttfamily \#include $<$sched.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$sys/time.\+h$>$}\newline
{\ttfamily \#include $<$errno.\+h$>$}\newline
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct__thread__start__info}{\+\_\+thread\+\_\+start\+\_\+info}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{N\+U\+LL}}~(\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}}$\ast$)0
\item 
\#define \mbox{\hyperlink{tinycthread_8c_aa8cecfc5c5c054d2875c03e77b7be15d}{T\+R\+UE}}~1
\item 
\#define \mbox{\hyperlink{tinycthread_8c_aa93f0eb578d23995850d61f7d61c55c1}{F\+A\+L\+SE}}~0
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{tinycthread_8c_a89200caf0dc25fcc97df171d0034bff2}{mtx\+\_\+init}} (\mbox{\hyperlink{tinycthread_8h_ae653b263c1432a99c799cbf028bc65e2}{mtx\+\_\+t}} $\ast$mtx, int \mbox{\hyperlink{glad_8h_ab7c1afc09f67635c2c376638fcc0db5f}{type}})
\item 
\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} \mbox{\hyperlink{tinycthread_8c_ae8b3732298d1d316db6438b4c561c0dd}{mtx\+\_\+destroy}} (\mbox{\hyperlink{tinycthread_8h_ae653b263c1432a99c799cbf028bc65e2}{mtx\+\_\+t}} $\ast$mtx)
\item 
int \mbox{\hyperlink{tinycthread_8c_a8945984db67db8ee774872da64d0e424}{mtx\+\_\+lock}} (\mbox{\hyperlink{tinycthread_8h_ae653b263c1432a99c799cbf028bc65e2}{mtx\+\_\+t}} $\ast$mtx)
\item 
int \mbox{\hyperlink{tinycthread_8c_a98f9757dde089254735199ac738ff65f}{mtx\+\_\+timedlock}} (\mbox{\hyperlink{tinycthread_8h_ae653b263c1432a99c799cbf028bc65e2}{mtx\+\_\+t}} $\ast$mtx, const struct timespec $\ast$ts)
\item 
int \mbox{\hyperlink{tinycthread_8c_ac577690ddd48f5a1fdf3dc97881a2199}{mtx\+\_\+trylock}} (\mbox{\hyperlink{tinycthread_8h_ae653b263c1432a99c799cbf028bc65e2}{mtx\+\_\+t}} $\ast$mtx)
\item 
int \mbox{\hyperlink{tinycthread_8c_ae2fb1d2854461fa583017cc9b0bc6cca}{mtx\+\_\+unlock}} (\mbox{\hyperlink{tinycthread_8h_ae653b263c1432a99c799cbf028bc65e2}{mtx\+\_\+t}} $\ast$mtx)
\item 
int \mbox{\hyperlink{tinycthread_8c_a146f4cd218c2a2f770be14c1dee26d08}{cnd\+\_\+init}} (\mbox{\hyperlink{tinycthread_8h_aa5c55d7c9eb959c15c4d5b73c02e8a41}{cnd\+\_\+t}} $\ast$cond)
\item 
\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} \mbox{\hyperlink{tinycthread_8c_aa925921fa9edc189f474ae10a23bcfd3}{cnd\+\_\+destroy}} (\mbox{\hyperlink{tinycthread_8h_aa5c55d7c9eb959c15c4d5b73c02e8a41}{cnd\+\_\+t}} $\ast$cond)
\item 
int \mbox{\hyperlink{tinycthread_8c_af76e066715b1190d38a69da1c511e30f}{cnd\+\_\+signal}} (\mbox{\hyperlink{tinycthread_8h_aa5c55d7c9eb959c15c4d5b73c02e8a41}{cnd\+\_\+t}} $\ast$cond)
\item 
int \mbox{\hyperlink{tinycthread_8c_a66228b340509733bdf529b93bca8df14}{cnd\+\_\+broadcast}} (\mbox{\hyperlink{tinycthread_8h_aa5c55d7c9eb959c15c4d5b73c02e8a41}{cnd\+\_\+t}} $\ast$cond)
\item 
int \mbox{\hyperlink{tinycthread_8c_ac4dfb82fc3d92bb688cb07308af6a659}{cnd\+\_\+wait}} (\mbox{\hyperlink{tinycthread_8h_aa5c55d7c9eb959c15c4d5b73c02e8a41}{cnd\+\_\+t}} $\ast$cond, \mbox{\hyperlink{tinycthread_8h_ae653b263c1432a99c799cbf028bc65e2}{mtx\+\_\+t}} $\ast$mtx)
\item 
int \mbox{\hyperlink{tinycthread_8c_a2bdc352d949424855c957b0d1916d443}{cnd\+\_\+timedwait}} (\mbox{\hyperlink{tinycthread_8h_aa5c55d7c9eb959c15c4d5b73c02e8a41}{cnd\+\_\+t}} $\ast$cond, \mbox{\hyperlink{tinycthread_8h_ae653b263c1432a99c799cbf028bc65e2}{mtx\+\_\+t}} $\ast$mtx, const struct timespec $\ast$ts)
\item 
int \mbox{\hyperlink{tinycthread_8c_a1a52b6cd2d15cc6c4741d5124f85d183}{thrd\+\_\+create}} (\mbox{\hyperlink{tinycthread_8h_a40f328ffa956af453fe5c14704f88231}{thrd\+\_\+t}} $\ast$thr, \mbox{\hyperlink{tinycthread_8h_ab26bdfa456502f8c483f45bb39ca7336}{thrd\+\_\+start\+\_\+t}} \mbox{\hyperlink{glad_8h_a18ae3ab36a07e388833b568cfdfa90c8}{func}}, \mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} $\ast$arg)
\item 
\mbox{\hyperlink{tinycthread_8h_a40f328ffa956af453fe5c14704f88231}{thrd\+\_\+t}} \mbox{\hyperlink{tinycthread_8c_ab67b6f182a848d979155d03598325fa7}{thrd\+\_\+current}} (\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}})
\item 
int \mbox{\hyperlink{tinycthread_8c_ad5380997f9e32a31f802bdd9cb266902}{thrd\+\_\+detach}} (\mbox{\hyperlink{tinycthread_8h_a40f328ffa956af453fe5c14704f88231}{thrd\+\_\+t}} thr)
\item 
int \mbox{\hyperlink{tinycthread_8c_a153e65a389814ce51ad07791e42b2118}{thrd\+\_\+equal}} (\mbox{\hyperlink{tinycthread_8h_a40f328ffa956af453fe5c14704f88231}{thrd\+\_\+t}} thr0, \mbox{\hyperlink{tinycthread_8h_a40f328ffa956af453fe5c14704f88231}{thrd\+\_\+t}} thr1)
\item 
\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} \mbox{\hyperlink{tinycthread_8c_ae13e483223c39327e190e79e18f20b15}{thrd\+\_\+exit}} (int \mbox{\hyperlink{glext_8h_a1dbb21208b9047cc8031ca9c840d3c2f}{res}})
\item 
int \mbox{\hyperlink{tinycthread_8c_aa2e83a544f49f74cf217a69a882b5d80}{thrd\+\_\+join}} (\mbox{\hyperlink{tinycthread_8h_a40f328ffa956af453fe5c14704f88231}{thrd\+\_\+t}} thr, int $\ast$\mbox{\hyperlink{glext_8h_a1dbb21208b9047cc8031ca9c840d3c2f}{res}})
\item 
int \mbox{\hyperlink{tinycthread_8c_a58d00bd1fc0cc3c91d4c34d5faf117c3}{thrd\+\_\+sleep}} (const struct timespec $\ast$time\+\_\+point, struct timespec $\ast$remaining)
\item 
\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} \mbox{\hyperlink{tinycthread_8c_acbfb78346e6b76b23da1d2d8df03549a}{thrd\+\_\+yield}} (\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}})
\item 
int \mbox{\hyperlink{tinycthread_8c_a286fe7927e9af276a9cfdbc8b9eb08ad}{tss\+\_\+create}} (\mbox{\hyperlink{tinycthread_8h_a0475af0e9cd14ba35427de7c8c49dab1}{tss\+\_\+t}} $\ast$\mbox{\hyperlink{gears_8c_accd6b5b92b78666e36543412d4ac14cd}{key}}, \mbox{\hyperlink{tinycthread_8h_a7bd9f13e4169f842cbb831ea348049dd}{tss\+\_\+dtor\+\_\+t}} dtor)
\item 
\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} \mbox{\hyperlink{tinycthread_8c_aecebbc66b206171d9381ba94528c6cb7}{tss\+\_\+delete}} (\mbox{\hyperlink{tinycthread_8h_a0475af0e9cd14ba35427de7c8c49dab1}{tss\+\_\+t}} \mbox{\hyperlink{gears_8c_accd6b5b92b78666e36543412d4ac14cd}{key}})
\item 
\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} $\ast$ \mbox{\hyperlink{tinycthread_8c_a183e71f731ed566a1d14b056606806f8}{tss\+\_\+get}} (\mbox{\hyperlink{tinycthread_8h_a0475af0e9cd14ba35427de7c8c49dab1}{tss\+\_\+t}} \mbox{\hyperlink{gears_8c_accd6b5b92b78666e36543412d4ac14cd}{key}})
\item 
int \mbox{\hyperlink{tinycthread_8c_a608e01c49b84a5ad4f085a9aedc6a680}{tss\+\_\+set}} (\mbox{\hyperlink{tinycthread_8h_a0475af0e9cd14ba35427de7c8c49dab1}{tss\+\_\+t}} \mbox{\hyperlink{gears_8c_accd6b5b92b78666e36543412d4ac14cd}{key}}, \mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} $\ast$\mbox{\hyperlink{glad_8h_a26942fd2ed566ef553eae82d2c109c8f}{val}})
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{tinycthread_8c_aa93f0eb578d23995850d61f7d61c55c1}\label{tinycthread_8c_aa93f0eb578d23995850d61f7d61c55c1}} 
\index{tinycthread.c@{tinycthread.c}!FALSE@{FALSE}}
\index{FALSE@{FALSE}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{FALSE}{FALSE}}
{\footnotesize\ttfamily \#define F\+A\+L\+SE~0}



Definition at line 53 of file tinycthread.\+c.

\mbox{\Hypertarget{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}\label{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}} 
\index{tinycthread.c@{tinycthread.c}!NULL@{NULL}}
\index{NULL@{NULL}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{NULL}{NULL}}
{\footnotesize\ttfamily \#define N\+U\+LL~(\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}}$\ast$)0}



Definition at line 47 of file tinycthread.\+c.

\mbox{\Hypertarget{tinycthread_8c_aa8cecfc5c5c054d2875c03e77b7be15d}\label{tinycthread_8c_aa8cecfc5c5c054d2875c03e77b7be15d}} 
\index{tinycthread.c@{tinycthread.c}!TRUE@{TRUE}}
\index{TRUE@{TRUE}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{TRUE}{TRUE}}
{\footnotesize\ttfamily \#define T\+R\+UE~1}



Definition at line 50 of file tinycthread.\+c.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{tinycthread_8c_a66228b340509733bdf529b93bca8df14}\label{tinycthread_8c_a66228b340509733bdf529b93bca8df14}} 
\index{tinycthread.c@{tinycthread.c}!cnd\_broadcast@{cnd\_broadcast}}
\index{cnd\_broadcast@{cnd\_broadcast}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{cnd\_broadcast()}{cnd\_broadcast()}}
{\footnotesize\ttfamily int cnd\+\_\+broadcast (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tinycthread_8h_aa5c55d7c9eb959c15c4d5b73c02e8a41}{cnd\+\_\+t}} $\ast$}]{cond }\end{DoxyParamCaption})}

Broadcast a condition variable. Unblocks all of the threads that are blocked on the given condition variable at the time of the call. If no threads are blocked on the condition variable at the time of the call, the function does nothing and return success. 
\begin{DoxyParams}{Parameters}
{\em cond} & A condition variable object. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\+\_\+success}} on success, or \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\+\_\+error}} if the request could not be honored. 
\end{DoxyReturn}


Definition at line 211 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{212 \{}
\DoxyCodeLine{213 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{214   \textcolor{keywordtype}{int} haveWaiters;}
\DoxyCodeLine{215 }
\DoxyCodeLine{216   \textcolor{comment}{/* Are there any waiters? */}}
\DoxyCodeLine{217   EnterCriticalSection(\&cond-\/>mWaitersCountLock);}
\DoxyCodeLine{218   haveWaiters = (cond-\/>mWaitersCount > 0);}
\DoxyCodeLine{219   LeaveCriticalSection(\&cond-\/>mWaitersCountLock);}
\DoxyCodeLine{220 }
\DoxyCodeLine{221   \textcolor{comment}{/* If we have any waiting threads, send them a signal */}}
\DoxyCodeLine{222   \textcolor{keywordflow}{if}(haveWaiters)}
\DoxyCodeLine{223   \{}
\DoxyCodeLine{224     \textcolor{keywordflow}{if} (SetEvent(cond-\/>mEvents[\_CONDITION\_EVENT\_ALL]) == 0)}
\DoxyCodeLine{225     \{}
\DoxyCodeLine{226       \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{227     \}}
\DoxyCodeLine{228   \}}
\DoxyCodeLine{229 }
\DoxyCodeLine{230   \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}};}
\DoxyCodeLine{231 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{232   \textcolor{keywordflow}{return} pthread\_cond\_signal(cond) == 0 ? \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}} : \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{233 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{234 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_aa925921fa9edc189f474ae10a23bcfd3}\label{tinycthread_8c_aa925921fa9edc189f474ae10a23bcfd3}} 
\index{tinycthread.c@{tinycthread.c}!cnd\_destroy@{cnd\_destroy}}
\index{cnd\_destroy@{cnd\_destroy}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{cnd\_destroy()}{cnd\_destroy()}}
{\footnotesize\ttfamily \mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} cnd\+\_\+destroy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tinycthread_8h_aa5c55d7c9eb959c15c4d5b73c02e8a41}{cnd\+\_\+t}} $\ast$}]{cond }\end{DoxyParamCaption})}

Release any resources used by the given condition variable. 
\begin{DoxyParams}{Parameters}
{\em cond} & A condition variable object. \\
\hline
\end{DoxyParams}


Definition at line 169 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{170 \{}
\DoxyCodeLine{171 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{172   \textcolor{keywordflow}{if} (cond-\/>mEvents[\_CONDITION\_EVENT\_ONE] != \mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{173   \{}
\DoxyCodeLine{174     CloseHandle(cond-\/>mEvents[\_CONDITION\_EVENT\_ONE]);}
\DoxyCodeLine{175   \}}
\DoxyCodeLine{176   \textcolor{keywordflow}{if} (cond-\/>mEvents[\_CONDITION\_EVENT\_ALL] != \mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{177   \{}
\DoxyCodeLine{178     CloseHandle(cond-\/>mEvents[\_CONDITION\_EVENT\_ALL]);}
\DoxyCodeLine{179   \}}
\DoxyCodeLine{180   DeleteCriticalSection(\&cond-\/>mWaitersCountLock);}
\DoxyCodeLine{181 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{182   pthread\_cond\_destroy(cond);}
\DoxyCodeLine{183 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{184 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_a146f4cd218c2a2f770be14c1dee26d08}\label{tinycthread_8c_a146f4cd218c2a2f770be14c1dee26d08}} 
\index{tinycthread.c@{tinycthread.c}!cnd\_init@{cnd\_init}}
\index{cnd\_init@{cnd\_init}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{cnd\_init()}{cnd\_init()}}
{\footnotesize\ttfamily int cnd\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tinycthread_8h_aa5c55d7c9eb959c15c4d5b73c02e8a41}{cnd\+\_\+t}} $\ast$}]{cond }\end{DoxyParamCaption})}

Create a condition variable object. 
\begin{DoxyParams}{Parameters}
{\em cond} & A condition variable object. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\+\_\+success}} on success, or \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\+\_\+error}} if the request could not be honored. 
\end{DoxyReturn}


Definition at line 140 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{141 \{}
\DoxyCodeLine{142 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{143   cond-\/>mWaitersCount = 0;}
\DoxyCodeLine{144 }
\DoxyCodeLine{145   \textcolor{comment}{/* Init critical section */}}
\DoxyCodeLine{146   InitializeCriticalSection(\&cond-\/>mWaitersCountLock);}
\DoxyCodeLine{147 }
\DoxyCodeLine{148   \textcolor{comment}{/* Init events */}}
\DoxyCodeLine{149   cond-\/>mEvents[\_CONDITION\_EVENT\_ONE] = CreateEvent(\mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}, \mbox{\hyperlink{tinycthread_8c_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}}, \mbox{\hyperlink{tinycthread_8c_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}}, \mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{150   \textcolor{keywordflow}{if} (cond-\/>mEvents[\_CONDITION\_EVENT\_ONE] == \mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{151   \{}
\DoxyCodeLine{152     cond-\/>mEvents[\_CONDITION\_EVENT\_ALL] = \mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{153     \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{154   \}}
\DoxyCodeLine{155   cond-\/>mEvents[\_CONDITION\_EVENT\_ALL] = CreateEvent(\mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}, \mbox{\hyperlink{tinycthread_8c_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}}, \mbox{\hyperlink{tinycthread_8c_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}}, \mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{156   \textcolor{keywordflow}{if} (cond-\/>mEvents[\_CONDITION\_EVENT\_ALL] == \mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{157   \{}
\DoxyCodeLine{158     CloseHandle(cond-\/>mEvents[\_CONDITION\_EVENT\_ONE]);}
\DoxyCodeLine{159     cond-\/>mEvents[\_CONDITION\_EVENT\_ONE] = \mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{160     \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{161   \}}
\DoxyCodeLine{162 }
\DoxyCodeLine{163   \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}};}
\DoxyCodeLine{164 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{165   \textcolor{keywordflow}{return} pthread\_cond\_init(cond, \mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) == 0 ? \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}} : \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{166 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{167 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_af76e066715b1190d38a69da1c511e30f}\label{tinycthread_8c_af76e066715b1190d38a69da1c511e30f}} 
\index{tinycthread.c@{tinycthread.c}!cnd\_signal@{cnd\_signal}}
\index{cnd\_signal@{cnd\_signal}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{cnd\_signal()}{cnd\_signal()}}
{\footnotesize\ttfamily int cnd\+\_\+signal (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tinycthread_8h_aa5c55d7c9eb959c15c4d5b73c02e8a41}{cnd\+\_\+t}} $\ast$}]{cond }\end{DoxyParamCaption})}

Signal a condition variable. Unblocks one of the threads that are blocked on the given condition variable at the time of the call. If no threads are blocked on the condition variable at the time of the call, the function does nothing and return success. 
\begin{DoxyParams}{Parameters}
{\em cond} & A condition variable object. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\+\_\+success}} on success, or \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\+\_\+error}} if the request could not be honored. 
\end{DoxyReturn}


Definition at line 186 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{187 \{}
\DoxyCodeLine{188 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{189   \textcolor{keywordtype}{int} haveWaiters;}
\DoxyCodeLine{190 }
\DoxyCodeLine{191   \textcolor{comment}{/* Are there any waiters? */}}
\DoxyCodeLine{192   EnterCriticalSection(\&cond-\/>mWaitersCountLock);}
\DoxyCodeLine{193   haveWaiters = (cond-\/>mWaitersCount > 0);}
\DoxyCodeLine{194   LeaveCriticalSection(\&cond-\/>mWaitersCountLock);}
\DoxyCodeLine{195 }
\DoxyCodeLine{196   \textcolor{comment}{/* If we have any waiting threads, send them a signal */}}
\DoxyCodeLine{197   \textcolor{keywordflow}{if}(haveWaiters)}
\DoxyCodeLine{198   \{}
\DoxyCodeLine{199     \textcolor{keywordflow}{if} (SetEvent(cond-\/>mEvents[\_CONDITION\_EVENT\_ONE]) == 0)}
\DoxyCodeLine{200     \{}
\DoxyCodeLine{201       \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{202     \}}
\DoxyCodeLine{203   \}}
\DoxyCodeLine{204 }
\DoxyCodeLine{205   \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}};}
\DoxyCodeLine{206 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{207   \textcolor{keywordflow}{return} pthread\_cond\_signal(cond) == 0 ? \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}} : \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{208 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{209 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_a2bdc352d949424855c957b0d1916d443}\label{tinycthread_8c_a2bdc352d949424855c957b0d1916d443}} 
\index{tinycthread.c@{tinycthread.c}!cnd\_timedwait@{cnd\_timedwait}}
\index{cnd\_timedwait@{cnd\_timedwait}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{cnd\_timedwait()}{cnd\_timedwait()}}
{\footnotesize\ttfamily int cnd\+\_\+timedwait (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tinycthread_8h_aa5c55d7c9eb959c15c4d5b73c02e8a41}{cnd\+\_\+t}} $\ast$}]{cond,  }\item[{\mbox{\hyperlink{tinycthread_8h_ae653b263c1432a99c799cbf028bc65e2}{mtx\+\_\+t}} $\ast$}]{mtx,  }\item[{const struct timespec $\ast$}]{ts }\end{DoxyParamCaption})}

Wait for a condition variable to become signaled. The function atomically unlocks the given mutex and endeavors to block until the given condition variable is signaled by a call to cnd\+\_\+signal or to cnd\+\_\+broadcast, or until after the specified time. When the calling thread becomes unblocked it locks the mutex before it returns. 
\begin{DoxyParams}{Parameters}
{\em cond} & A condition variable object. \\
\hline
{\em mtx} & A mutex object. \\
\hline
{\em xt} & A point in time at which the request will time out (absolute time). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\+\_\+success}} upon success, or \mbox{\hyperlink{tinycthread_8h_aec454a4baf61e6d518bbfb8768bd6a1f}{thrd\+\_\+timeout}} if the time specified in the call was reached without acquiring the requested resource, or \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\+\_\+error}} if the request could not be honored. 
\end{DoxyReturn}


Definition at line 294 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{295 \{}
\DoxyCodeLine{296 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{297   \textcolor{keyword}{struct }timespec now;}
\DoxyCodeLine{298   \textcolor{keywordflow}{if} (clock\_gettime(CLOCK\_REALTIME, \&now) == 0)}
\DoxyCodeLine{299   \{}
\DoxyCodeLine{300     DWORD delta = (DWORD) ((ts-\/>tv\_sec -\/ now.tv\_sec) * 1000 +}
\DoxyCodeLine{301                            (ts-\/>tv\_nsec -\/ now.tv\_nsec + 500000) / 1000000);}
\DoxyCodeLine{302     \textcolor{keywordflow}{return} \_cnd\_timedwait\_win32(cond, mtx, delta);}
\DoxyCodeLine{303   \}}
\DoxyCodeLine{304   \textcolor{keywordflow}{else}}
\DoxyCodeLine{305     \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{306 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{307   \textcolor{keywordtype}{int} ret;}
\DoxyCodeLine{308   ret = pthread\_cond\_timedwait(cond, mtx, ts);}
\DoxyCodeLine{309   \textcolor{keywordflow}{if} (ret == ETIMEDOUT)}
\DoxyCodeLine{310   \{}
\DoxyCodeLine{311     \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_aec454a4baf61e6d518bbfb8768bd6a1f}{thrd\_timeout}};}
\DoxyCodeLine{312   \}}
\DoxyCodeLine{313   \textcolor{keywordflow}{return} ret == 0 ? \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}} : \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{314 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{315 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_ac4dfb82fc3d92bb688cb07308af6a659}\label{tinycthread_8c_ac4dfb82fc3d92bb688cb07308af6a659}} 
\index{tinycthread.c@{tinycthread.c}!cnd\_wait@{cnd\_wait}}
\index{cnd\_wait@{cnd\_wait}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{cnd\_wait()}{cnd\_wait()}}
{\footnotesize\ttfamily int cnd\+\_\+wait (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tinycthread_8h_aa5c55d7c9eb959c15c4d5b73c02e8a41}{cnd\+\_\+t}} $\ast$}]{cond,  }\item[{\mbox{\hyperlink{tinycthread_8h_ae653b263c1432a99c799cbf028bc65e2}{mtx\+\_\+t}} $\ast$}]{mtx }\end{DoxyParamCaption})}

Wait for a condition variable to become signaled. The function atomically unlocks the given mutex and endeavors to block until the given condition variable is signaled by a call to cnd\+\_\+signal or to cnd\+\_\+broadcast. When the calling thread becomes unblocked it locks the mutex before it returns. 
\begin{DoxyParams}{Parameters}
{\em cond} & A condition variable object. \\
\hline
{\em mtx} & A mutex object. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\+\_\+success}} on success, or \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\+\_\+error}} if the request could not be honored. 
\end{DoxyReturn}


Definition at line 285 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{286 \{}
\DoxyCodeLine{287 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{288   \textcolor{keywordflow}{return} \_cnd\_timedwait\_win32(cond, mtx, INFINITE);}
\DoxyCodeLine{289 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{290   \textcolor{keywordflow}{return} pthread\_cond\_wait(cond, mtx) == 0 ? \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}} : \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{291 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{292 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_ae8b3732298d1d316db6438b4c561c0dd}\label{tinycthread_8c_ae8b3732298d1d316db6438b4c561c0dd}} 
\index{tinycthread.c@{tinycthread.c}!mtx\_destroy@{mtx\_destroy}}
\index{mtx\_destroy@{mtx\_destroy}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{mtx\_destroy()}{mtx\_destroy()}}
{\footnotesize\ttfamily \mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} mtx\+\_\+destroy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tinycthread_8h_ae653b263c1432a99c799cbf028bc65e2}{mtx\+\_\+t}} $\ast$}]{mtx }\end{DoxyParamCaption})}

Release any resources used by the given mutex. 
\begin{DoxyParams}{Parameters}
{\em mtx} & A mutex object. \\
\hline
\end{DoxyParams}


Definition at line 77 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{78 \{}
\DoxyCodeLine{79 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{80   DeleteCriticalSection(\&mtx-\/>mHandle);}
\DoxyCodeLine{81 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{82   pthread\_mutex\_destroy(mtx);}
\DoxyCodeLine{83 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{84 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_a89200caf0dc25fcc97df171d0034bff2}\label{tinycthread_8c_a89200caf0dc25fcc97df171d0034bff2}} 
\index{tinycthread.c@{tinycthread.c}!mtx\_init@{mtx\_init}}
\index{mtx\_init@{mtx\_init}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{mtx\_init()}{mtx\_init()}}
{\footnotesize\ttfamily int mtx\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tinycthread_8h_ae653b263c1432a99c799cbf028bc65e2}{mtx\+\_\+t}} $\ast$}]{mtx,  }\item[{int}]{type }\end{DoxyParamCaption})}

Create a mutex object. 
\begin{DoxyParams}{Parameters}
{\em mtx} & A mutex object. \\
\hline
{\em type} & Bit-\/mask that must have one of the following six values\+: \begin{DoxyItemize}
\item {\ttfamily mtx\+\_\+plain} for a simple non-\/recursive mutex \item {\ttfamily mtx\+\_\+timed} for a non-\/recursive mutex that supports timeout \item {\ttfamily mtx\+\_\+try} for a non-\/recursive mutex that supports test and return \item {\ttfamily mtx\+\_\+plain} $\vert$ {\ttfamily mtx\+\_\+recursive} (same as {\ttfamily mtx\+\_\+plain}, but recursive) \item {\ttfamily mtx\+\_\+timed} $\vert$ {\ttfamily mtx\+\_\+recursive} (same as {\ttfamily mtx\+\_\+timed}, but recursive) \item {\ttfamily mtx\+\_\+try} $\vert$ {\ttfamily mtx\+\_\+recursive} (same as {\ttfamily mtx\+\_\+try}, but recursive) \end{DoxyItemize}
\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\+\_\+success}} on success, or \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\+\_\+error}} if the request could not be honored. 
\end{DoxyReturn}


Definition at line 56 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{57 \{}
\DoxyCodeLine{58 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{59   mtx-\/>mAlreadyLocked = \mbox{\hyperlink{tinycthread_8c_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{60   mtx-\/>mRecursive = \mbox{\hyperlink{glad_8h_ab7c1afc09f67635c2c376638fcc0db5f}{type}} \& \mbox{\hyperlink{tinycthread_8h_a23baf902554dba287faa32c646e35f61}{mtx\_recursive}};}
\DoxyCodeLine{61   InitializeCriticalSection(\&mtx-\/>mHandle);}
\DoxyCodeLine{62   \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}};}
\DoxyCodeLine{63 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{64   \textcolor{keywordtype}{int} ret;}
\DoxyCodeLine{65   pthread\_mutexattr\_t attr;}
\DoxyCodeLine{66   pthread\_mutexattr\_init(\&attr);}
\DoxyCodeLine{67   \textcolor{keywordflow}{if} (\mbox{\hyperlink{glad_8h_ab7c1afc09f67635c2c376638fcc0db5f}{type}} \& \mbox{\hyperlink{tinycthread_8h_a23baf902554dba287faa32c646e35f61}{mtx\_recursive}})}
\DoxyCodeLine{68   \{}
\DoxyCodeLine{69     pthread\_mutexattr\_settype(\&attr, PTHREAD\_MUTEX\_RECURSIVE);}
\DoxyCodeLine{70   \}}
\DoxyCodeLine{71   ret = pthread\_mutex\_init(mtx, \&attr);}
\DoxyCodeLine{72   pthread\_mutexattr\_destroy(\&attr);}
\DoxyCodeLine{73   \textcolor{keywordflow}{return} ret == 0 ? \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}} : \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{74 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{75 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_a8945984db67db8ee774872da64d0e424}\label{tinycthread_8c_a8945984db67db8ee774872da64d0e424}} 
\index{tinycthread.c@{tinycthread.c}!mtx\_lock@{mtx\_lock}}
\index{mtx\_lock@{mtx\_lock}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{mtx\_lock()}{mtx\_lock()}}
{\footnotesize\ttfamily int mtx\+\_\+lock (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tinycthread_8h_ae653b263c1432a99c799cbf028bc65e2}{mtx\+\_\+t}} $\ast$}]{mtx }\end{DoxyParamCaption})}

Lock the given mutex. Blocks until the given mutex can be locked. If the mutex is non-\/recursive, and the calling thread already has a lock on the mutex, this call will block forever. 
\begin{DoxyParams}{Parameters}
{\em mtx} & A mutex object. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\+\_\+success}} on success, or \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\+\_\+error}} if the request could not be honored. 
\end{DoxyReturn}


Definition at line 86 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{87 \{}
\DoxyCodeLine{88 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{89   EnterCriticalSection(\&mtx-\/>mHandle);}
\DoxyCodeLine{90   \textcolor{keywordflow}{if} (!mtx-\/>mRecursive)}
\DoxyCodeLine{91   \{}
\DoxyCodeLine{92     \textcolor{keywordflow}{while}(mtx-\/>mAlreadyLocked) Sleep(1000); \textcolor{comment}{/* Simulate deadlock... */}}
\DoxyCodeLine{93     mtx-\/>mAlreadyLocked = \mbox{\hyperlink{tinycthread_8c_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{94   \}}
\DoxyCodeLine{95   \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}};}
\DoxyCodeLine{96 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{97   \textcolor{keywordflow}{return} pthread\_mutex\_lock(mtx) == 0 ? \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}} : \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{98 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{99 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_a98f9757dde089254735199ac738ff65f}\label{tinycthread_8c_a98f9757dde089254735199ac738ff65f}} 
\index{tinycthread.c@{tinycthread.c}!mtx\_timedlock@{mtx\_timedlock}}
\index{mtx\_timedlock@{mtx\_timedlock}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{mtx\_timedlock()}{mtx\_timedlock()}}
{\footnotesize\ttfamily int mtx\+\_\+timedlock (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tinycthread_8h_ae653b263c1432a99c799cbf028bc65e2}{mtx\+\_\+t}} $\ast$}]{mtx,  }\item[{const struct timespec $\ast$}]{ts }\end{DoxyParamCaption})}

N\+OT Y\+ET I\+M\+P\+L\+E\+M\+E\+N\+T\+ED. 

Definition at line 101 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{102 \{}
\DoxyCodeLine{103   \textcolor{comment}{/* FIXME! */}}
\DoxyCodeLine{104   (\mbox{\hyperlink{glad_8h_aef30cfca5b4a4c292babb2f60f6d3296}{void}})mtx;}
\DoxyCodeLine{105   (\mbox{\hyperlink{glad_8h_aef30cfca5b4a4c292babb2f60f6d3296}{void}})ts;}
\DoxyCodeLine{106   \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{107 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_ac577690ddd48f5a1fdf3dc97881a2199}\label{tinycthread_8c_ac577690ddd48f5a1fdf3dc97881a2199}} 
\index{tinycthread.c@{tinycthread.c}!mtx\_trylock@{mtx\_trylock}}
\index{mtx\_trylock@{mtx\_trylock}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{mtx\_trylock()}{mtx\_trylock()}}
{\footnotesize\ttfamily int mtx\+\_\+trylock (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tinycthread_8h_ae653b263c1432a99c799cbf028bc65e2}{mtx\+\_\+t}} $\ast$}]{mtx }\end{DoxyParamCaption})}

Try to lock the given mutex. The specified mutex shall support either test and return or timeout. If the mutex is already locked, the function returns without blocking. 
\begin{DoxyParams}{Parameters}
{\em mtx} & A mutex object. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\+\_\+success}} on success, or \mbox{\hyperlink{tinycthread_8h_a3c563aa25920a041d83d4019b113ab5d}{thrd\+\_\+busy}} if the resource requested is already in use, or \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\+\_\+error}} if the request could not be honored. 
\end{DoxyReturn}


Definition at line 109 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{110 \{}
\DoxyCodeLine{111 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{112   \textcolor{keywordtype}{int} ret = TryEnterCriticalSection(\&mtx-\/>mHandle) ? \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}} : \mbox{\hyperlink{tinycthread_8h_a3c563aa25920a041d83d4019b113ab5d}{thrd\_busy}};}
\DoxyCodeLine{113   \textcolor{keywordflow}{if} ((!mtx-\/>mRecursive) \&\& (ret == \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}}) \&\& mtx-\/>mAlreadyLocked)}
\DoxyCodeLine{114   \{}
\DoxyCodeLine{115     LeaveCriticalSection(\&mtx-\/>mHandle);}
\DoxyCodeLine{116     ret = \mbox{\hyperlink{tinycthread_8h_a3c563aa25920a041d83d4019b113ab5d}{thrd\_busy}};}
\DoxyCodeLine{117   \}}
\DoxyCodeLine{118   \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{119 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{120   \textcolor{keywordflow}{return} (pthread\_mutex\_trylock(mtx) == 0) ? \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}} : \mbox{\hyperlink{tinycthread_8h_a3c563aa25920a041d83d4019b113ab5d}{thrd\_busy}};}
\DoxyCodeLine{121 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{122 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_ae2fb1d2854461fa583017cc9b0bc6cca}\label{tinycthread_8c_ae2fb1d2854461fa583017cc9b0bc6cca}} 
\index{tinycthread.c@{tinycthread.c}!mtx\_unlock@{mtx\_unlock}}
\index{mtx\_unlock@{mtx\_unlock}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{mtx\_unlock()}{mtx\_unlock()}}
{\footnotesize\ttfamily int mtx\+\_\+unlock (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tinycthread_8h_ae653b263c1432a99c799cbf028bc65e2}{mtx\+\_\+t}} $\ast$}]{mtx }\end{DoxyParamCaption})}

Unlock the given mutex. 
\begin{DoxyParams}{Parameters}
{\em mtx} & A mutex object. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\+\_\+success}} on success, or \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\+\_\+error}} if the request could not be honored. 
\end{DoxyReturn}


Definition at line 124 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{125 \{}
\DoxyCodeLine{126 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{127   mtx-\/>mAlreadyLocked = \mbox{\hyperlink{tinycthread_8c_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{128   LeaveCriticalSection(\&mtx-\/>mHandle);}
\DoxyCodeLine{129   \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}};}
\DoxyCodeLine{130 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{131   \textcolor{keywordflow}{return} pthread\_mutex\_unlock(mtx) == 0 ? \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}} : \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};;}
\DoxyCodeLine{132 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{133 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_a1a52b6cd2d15cc6c4741d5124f85d183}\label{tinycthread_8c_a1a52b6cd2d15cc6c4741d5124f85d183}} 
\index{tinycthread.c@{tinycthread.c}!thrd\_create@{thrd\_create}}
\index{thrd\_create@{thrd\_create}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{thrd\_create()}{thrd\_create()}}
{\footnotesize\ttfamily int thrd\+\_\+create (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tinycthread_8h_a40f328ffa956af453fe5c14704f88231}{thrd\+\_\+t}} $\ast$}]{thr,  }\item[{\mbox{\hyperlink{tinycthread_8h_ab26bdfa456502f8c483f45bb39ca7336}{thrd\+\_\+start\+\_\+t}}}]{func,  }\item[{\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} $\ast$}]{arg }\end{DoxyParamCaption})}

Create a new thread. 
\begin{DoxyParams}{Parameters}
{\em thr} & Identifier of the newly created thread. \\
\hline
{\em func} & A function pointer to the function that will be executed in the new thread. \\
\hline
{\em arg} & An argument to the thread function. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\+\_\+success}} on success, or \mbox{\hyperlink{tinycthread_8h_ad6010b6ba8c0508cef692f066b09e2ef}{thrd\+\_\+nomem}} if no memory could be allocated for the thread requested, or \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\+\_\+error}} if the request could not be honored. 
\end{DoxyReturn}
\begin{DoxyNote}{Note}
A thread’s identifier may be reused for a different thread once the original thread has exited and either been detached or joined to another thread. 
\end{DoxyNote}


Definition at line 361 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{362 \{}
\DoxyCodeLine{363   \textcolor{comment}{/* Fill out the thread startup information (passed to the thread wrapper,}}
\DoxyCodeLine{364 \textcolor{comment}{     which will eventually free it) */}}
\DoxyCodeLine{365   \mbox{\hyperlink{struct__thread__start__info}{\_thread\_start\_info}}* ti = (\mbox{\hyperlink{struct__thread__start__info}{\_thread\_start\_info}}*)\mbox{\hyperlink{stb__leakcheck_8h_ac71ce303a4b993665ae00f1e1293ba8b}{malloc}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct__thread__start__info}{\_thread\_start\_info}}));}
\DoxyCodeLine{366   \textcolor{keywordflow}{if} (ti == \mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{367   \{}
\DoxyCodeLine{368     \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_ad6010b6ba8c0508cef692f066b09e2ef}{thrd\_nomem}};}
\DoxyCodeLine{369   \}}
\DoxyCodeLine{370   ti-\/>\mbox{\hyperlink{struct__thread__start__info_af8538b214eba5919c21dde7cf7102c83}{mFunction}} = \mbox{\hyperlink{glad_8h_a18ae3ab36a07e388833b568cfdfa90c8}{func}};}
\DoxyCodeLine{371   ti-\/>\mbox{\hyperlink{struct__thread__start__info_a0d38b31c203749b40fd7926c8f4579fa}{mArg}} = arg;}
\DoxyCodeLine{372 }
\DoxyCodeLine{373   \textcolor{comment}{/* Create the thread */}}
\DoxyCodeLine{374 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{375   *thr = (HANDLE)\_beginthreadex(\mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}, 0, \_thrd\_wrapper\_function, (\textcolor{keywordtype}{void} *)ti, 0, \mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{376 \textcolor{preprocessor}{\#elif defined(\_TTHREAD\_POSIX\_)}}
\DoxyCodeLine{377   \textcolor{keywordflow}{if}(pthread\_create(thr, \mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}, \_thrd\_wrapper\_function, (\textcolor{keywordtype}{void} *)ti) != 0)}
\DoxyCodeLine{378   \{}
\DoxyCodeLine{379     *thr = 0;}
\DoxyCodeLine{380   \}}
\DoxyCodeLine{381 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{382 }
\DoxyCodeLine{383   \textcolor{comment}{/* Did we fail to create the thread? */}}
\DoxyCodeLine{384   \textcolor{keywordflow}{if}(!*thr)}
\DoxyCodeLine{385   \{}
\DoxyCodeLine{386     \mbox{\hyperlink{stb__leakcheck_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}}(ti);}
\DoxyCodeLine{387     \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{388   \}}
\DoxyCodeLine{389 }
\DoxyCodeLine{390   \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}};}
\DoxyCodeLine{391 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_ab67b6f182a848d979155d03598325fa7}\label{tinycthread_8c_ab67b6f182a848d979155d03598325fa7}} 
\index{tinycthread.c@{tinycthread.c}!thrd\_current@{thrd\_current}}
\index{thrd\_current@{thrd\_current}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{thrd\_current()}{thrd\_current()}}
{\footnotesize\ttfamily \mbox{\hyperlink{tinycthread_8h_a40f328ffa956af453fe5c14704f88231}{thrd\+\_\+t}} thrd\+\_\+current (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}}}]{ }\end{DoxyParamCaption})}

Identify the calling thread. \begin{DoxyReturn}{Returns}
The identifier of the calling thread. 
\end{DoxyReturn}


Definition at line 393 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{394 \{}
\DoxyCodeLine{395 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{396   \textcolor{keywordflow}{return} GetCurrentThread();}
\DoxyCodeLine{397 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{398   \textcolor{keywordflow}{return} pthread\_self();}
\DoxyCodeLine{399 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{400 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_ad5380997f9e32a31f802bdd9cb266902}\label{tinycthread_8c_ad5380997f9e32a31f802bdd9cb266902}} 
\index{tinycthread.c@{tinycthread.c}!thrd\_detach@{thrd\_detach}}
\index{thrd\_detach@{thrd\_detach}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{thrd\_detach()}{thrd\_detach()}}
{\footnotesize\ttfamily int thrd\+\_\+detach (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tinycthread_8h_a40f328ffa956af453fe5c14704f88231}{thrd\+\_\+t}}}]{thr }\end{DoxyParamCaption})}

N\+OT Y\+ET I\+M\+P\+L\+E\+M\+E\+N\+T\+ED. 

Definition at line 402 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{403 \{}
\DoxyCodeLine{404   \textcolor{comment}{/* FIXME! */}}
\DoxyCodeLine{405   (\mbox{\hyperlink{glad_8h_aef30cfca5b4a4c292babb2f60f6d3296}{void}})thr;}
\DoxyCodeLine{406   \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{407 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_a153e65a389814ce51ad07791e42b2118}\label{tinycthread_8c_a153e65a389814ce51ad07791e42b2118}} 
\index{tinycthread.c@{tinycthread.c}!thrd\_equal@{thrd\_equal}}
\index{thrd\_equal@{thrd\_equal}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{thrd\_equal()}{thrd\_equal()}}
{\footnotesize\ttfamily int thrd\+\_\+equal (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tinycthread_8h_a40f328ffa956af453fe5c14704f88231}{thrd\+\_\+t}}}]{thr0,  }\item[{\mbox{\hyperlink{tinycthread_8h_a40f328ffa956af453fe5c14704f88231}{thrd\+\_\+t}}}]{thr1 }\end{DoxyParamCaption})}

Compare two thread identifiers. The function determines if two thread identifiers refer to the same thread. \begin{DoxyReturn}{Returns}
Zero if the two thread identifiers refer to different threads. Otherwise a nonzero value is returned. 
\end{DoxyReturn}


Definition at line 409 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{410 \{}
\DoxyCodeLine{411 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{412   \textcolor{keywordflow}{return} thr0 == thr1;}
\DoxyCodeLine{413 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{414   \textcolor{keywordflow}{return} pthread\_equal(thr0, thr1);}
\DoxyCodeLine{415 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{416 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_ae13e483223c39327e190e79e18f20b15}\label{tinycthread_8c_ae13e483223c39327e190e79e18f20b15}} 
\index{tinycthread.c@{tinycthread.c}!thrd\_exit@{thrd\_exit}}
\index{thrd\_exit@{thrd\_exit}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{thrd\_exit()}{thrd\_exit()}}
{\footnotesize\ttfamily \mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} thrd\+\_\+exit (\begin{DoxyParamCaption}\item[{int}]{res }\end{DoxyParamCaption})}

Terminate execution of the calling thread. 
\begin{DoxyParams}{Parameters}
{\em res} & Result code of the calling thread. \\
\hline
\end{DoxyParams}


Definition at line 418 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{419 \{}
\DoxyCodeLine{420 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{421   ExitThread(\mbox{\hyperlink{glext_8h_a1dbb21208b9047cc8031ca9c840d3c2f}{res}});}
\DoxyCodeLine{422 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{423   \textcolor{keywordtype}{void} *pres = \mbox{\hyperlink{stb__leakcheck_8h_ac71ce303a4b993665ae00f1e1293ba8b}{malloc}}(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));}
\DoxyCodeLine{424   \textcolor{keywordflow}{if} (pres != \mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{425   \{}
\DoxyCodeLine{426     *(\textcolor{keywordtype}{int}*)pres = \mbox{\hyperlink{glext_8h_a1dbb21208b9047cc8031ca9c840d3c2f}{res}};}
\DoxyCodeLine{427   \}}
\DoxyCodeLine{428   pthread\_exit(pres);}
\DoxyCodeLine{429 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{430 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_aa2e83a544f49f74cf217a69a882b5d80}\label{tinycthread_8c_aa2e83a544f49f74cf217a69a882b5d80}} 
\index{tinycthread.c@{tinycthread.c}!thrd\_join@{thrd\_join}}
\index{thrd\_join@{thrd\_join}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{thrd\_join()}{thrd\_join()}}
{\footnotesize\ttfamily int thrd\+\_\+join (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tinycthread_8h_a40f328ffa956af453fe5c14704f88231}{thrd\+\_\+t}}}]{thr,  }\item[{int $\ast$}]{res }\end{DoxyParamCaption})}

Wait for a thread to terminate. The function joins the given thread with the current thread by blocking until the other thread has terminated. 
\begin{DoxyParams}{Parameters}
{\em thr} & The thread to join with. \\
\hline
{\em res} & If this pointer is not N\+U\+LL, the function will store the result code of the given thread in the integer pointed to by {\ttfamily res}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\+\_\+success}} on success, or \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\+\_\+error}} if the request could not be honored. 
\end{DoxyReturn}


Definition at line 432 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{433 \{}
\DoxyCodeLine{434 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{435   \textcolor{keywordflow}{if} (WaitForSingleObject(thr, INFINITE) == WAIT\_FAILED)}
\DoxyCodeLine{436   \{}
\DoxyCodeLine{437     \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{438   \}}
\DoxyCodeLine{439   \textcolor{keywordflow}{if} (\mbox{\hyperlink{glext_8h_a1dbb21208b9047cc8031ca9c840d3c2f}{res}} != \mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{440   \{}
\DoxyCodeLine{441     DWORD dwRes;}
\DoxyCodeLine{442     GetExitCodeThread(thr, \&dwRes);}
\DoxyCodeLine{443     *\mbox{\hyperlink{glext_8h_a1dbb21208b9047cc8031ca9c840d3c2f}{res}} = dwRes;}
\DoxyCodeLine{444   \}}
\DoxyCodeLine{445 \textcolor{preprocessor}{\#elif defined(\_TTHREAD\_POSIX\_)}}
\DoxyCodeLine{446   \textcolor{keywordtype}{void} *pres;}
\DoxyCodeLine{447   \textcolor{keywordtype}{int} ires = 0;}
\DoxyCodeLine{448   \textcolor{keywordflow}{if} (pthread\_join(thr, \&pres) != 0)}
\DoxyCodeLine{449   \{}
\DoxyCodeLine{450     \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{451   \}}
\DoxyCodeLine{452   \textcolor{keywordflow}{if} (pres != \mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{453   \{}
\DoxyCodeLine{454     ires = *(\textcolor{keywordtype}{int}*)pres;}
\DoxyCodeLine{455     \mbox{\hyperlink{stb__leakcheck_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}}(pres);}
\DoxyCodeLine{456   \}}
\DoxyCodeLine{457   \textcolor{keywordflow}{if} (\mbox{\hyperlink{glext_8h_a1dbb21208b9047cc8031ca9c840d3c2f}{res}} != \mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{458   \{}
\DoxyCodeLine{459     *\mbox{\hyperlink{glext_8h_a1dbb21208b9047cc8031ca9c840d3c2f}{res}} = ires;}
\DoxyCodeLine{460   \}}
\DoxyCodeLine{461 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{462   \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}};}
\DoxyCodeLine{463 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_a58d00bd1fc0cc3c91d4c34d5faf117c3}\label{tinycthread_8c_a58d00bd1fc0cc3c91d4c34d5faf117c3}} 
\index{tinycthread.c@{tinycthread.c}!thrd\_sleep@{thrd\_sleep}}
\index{thrd\_sleep@{thrd\_sleep}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{thrd\_sleep()}{thrd\_sleep()}}
{\footnotesize\ttfamily int thrd\+\_\+sleep (\begin{DoxyParamCaption}\item[{const struct timespec $\ast$}]{time\+\_\+point,  }\item[{struct timespec $\ast$}]{remaining }\end{DoxyParamCaption})}

Put the calling thread to sleep. Suspend execution of the calling thread. 
\begin{DoxyParams}{Parameters}
{\em time\+\_\+point} & A point in time at which the thread will resume (absolute time). \\
\hline
{\em remaining} & If non-\/\+N\+U\+LL, this parameter will hold the remaining time until time\+\_\+point upon return. This will typically be zero, but if the thread was woken up by a signal that is not ignored before time\+\_\+point was reached {\ttfamily remaining} will hold a positive time. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 (zero) on successful sleep, or -\/1 if an interrupt occurred. 
\end{DoxyReturn}


Definition at line 465 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{466 \{}
\DoxyCodeLine{467   \textcolor{keyword}{struct }timespec now;}
\DoxyCodeLine{468 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{469   DWORD delta;}
\DoxyCodeLine{470 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{471   \textcolor{keywordtype}{long} delta;}
\DoxyCodeLine{472 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{473 }
\DoxyCodeLine{474   \textcolor{comment}{/* Get the current time */}}
\DoxyCodeLine{475   \textcolor{keywordflow}{if} (clock\_gettime(CLOCK\_REALTIME, \&now) != 0)}
\DoxyCodeLine{476     \textcolor{keywordflow}{return} -\/2;  \textcolor{comment}{// FIXME: Some specific error code?}}
\DoxyCodeLine{477 }
\DoxyCodeLine{478 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{479   \textcolor{comment}{/* Delta in milliseconds */}}
\DoxyCodeLine{480   delta = (DWORD) ((time\_point-\/>tv\_sec -\/ now.tv\_sec) * 1000 +}
\DoxyCodeLine{481                    (time\_point-\/>tv\_nsec -\/ now.tv\_nsec + 500000) / 1000000);}
\DoxyCodeLine{482   \textcolor{keywordflow}{if} (delta > 0)}
\DoxyCodeLine{483   \{}
\DoxyCodeLine{484     Sleep(delta);}
\DoxyCodeLine{485   \}}
\DoxyCodeLine{486 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{487   \textcolor{comment}{/* Delta in microseconds */}}
\DoxyCodeLine{488   delta = (time\_point-\/>tv\_sec -\/ now.tv\_sec) * 1000000\mbox{\hyperlink{stb__vorbis_8c_aa73214aa5f2f94f63d90bb4e3d99fe53}{L}} +}
\DoxyCodeLine{489           (time\_point-\/>tv\_nsec -\/ now.tv\_nsec + 500\mbox{\hyperlink{stb__vorbis_8c_aa73214aa5f2f94f63d90bb4e3d99fe53}{L}}) / 1000\mbox{\hyperlink{stb__vorbis_8c_aa73214aa5f2f94f63d90bb4e3d99fe53}{L}};}
\DoxyCodeLine{490 }
\DoxyCodeLine{491   \textcolor{comment}{/* On some systems, the usleep argument must be < 1000000 */}}
\DoxyCodeLine{492   \textcolor{keywordflow}{while} (delta > 999999\mbox{\hyperlink{stb__vorbis_8c_aa73214aa5f2f94f63d90bb4e3d99fe53}{L}})}
\DoxyCodeLine{493   \{}
\DoxyCodeLine{494     usleep(999999);}
\DoxyCodeLine{495     delta -\/= 999999\mbox{\hyperlink{stb__vorbis_8c_aa73214aa5f2f94f63d90bb4e3d99fe53}{L}};}
\DoxyCodeLine{496   \}}
\DoxyCodeLine{497   \textcolor{keywordflow}{if} (delta > 0\mbox{\hyperlink{stb__vorbis_8c_aa73214aa5f2f94f63d90bb4e3d99fe53}{L}})}
\DoxyCodeLine{498   \{}
\DoxyCodeLine{499     usleep((useconds\_t)delta);}
\DoxyCodeLine{500   \}}
\DoxyCodeLine{501 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{502 }
\DoxyCodeLine{503   \textcolor{comment}{/* We don't support waking up prematurely (yet) */}}
\DoxyCodeLine{504   \textcolor{keywordflow}{if} (remaining)}
\DoxyCodeLine{505   \{}
\DoxyCodeLine{506     remaining-\/>tv\_sec = 0;}
\DoxyCodeLine{507     remaining-\/>tv\_nsec = 0;}
\DoxyCodeLine{508   \}}
\DoxyCodeLine{509   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{510 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_acbfb78346e6b76b23da1d2d8df03549a}\label{tinycthread_8c_acbfb78346e6b76b23da1d2d8df03549a}} 
\index{tinycthread.c@{tinycthread.c}!thrd\_yield@{thrd\_yield}}
\index{thrd\_yield@{thrd\_yield}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{thrd\_yield()}{thrd\_yield()}}
{\footnotesize\ttfamily \mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} thrd\+\_\+yield (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}}}]{ }\end{DoxyParamCaption})}

Yield execution to another thread. Permit other threads to run, even if the current thread would ordinarily continue to run. 

Definition at line 512 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{513 \{}
\DoxyCodeLine{514 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{515   Sleep(0);}
\DoxyCodeLine{516 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{517   sched\_yield();}
\DoxyCodeLine{518 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{519 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_a286fe7927e9af276a9cfdbc8b9eb08ad}\label{tinycthread_8c_a286fe7927e9af276a9cfdbc8b9eb08ad}} 
\index{tinycthread.c@{tinycthread.c}!tss\_create@{tss\_create}}
\index{tss\_create@{tss\_create}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{tss\_create()}{tss\_create()}}
{\footnotesize\ttfamily int tss\+\_\+create (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tinycthread_8h_a0475af0e9cd14ba35427de7c8c49dab1}{tss\+\_\+t}} $\ast$}]{key,  }\item[{\mbox{\hyperlink{tinycthread_8h_a7bd9f13e4169f842cbb831ea348049dd}{tss\+\_\+dtor\+\_\+t}}}]{dtor }\end{DoxyParamCaption})}

Create a thread-\/specific storage. 
\begin{DoxyParams}{Parameters}
{\em key} & The unique key identifier that will be set if the function is successful. \\
\hline
{\em dtor} & Destructor function. This can be N\+U\+LL. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\+\_\+success}} on success, or \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\+\_\+error}} if the request could not be honored. 
\end{DoxyReturn}
\begin{DoxyNote}{Note}
The destructor function is not supported under Windows. If {\ttfamily dtor} is not N\+U\+LL when calling this function under Windows, the function will fail and return \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\+\_\+error}}. 
\end{DoxyNote}


Definition at line 521 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{522 \{}
\DoxyCodeLine{523 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{524   \textcolor{comment}{/* FIXME: The destructor function is not supported yet... */}}
\DoxyCodeLine{525   \textcolor{keywordflow}{if} (dtor != \mbox{\hyperlink{tinycthread_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})}
\DoxyCodeLine{526   \{}
\DoxyCodeLine{527     \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{528   \}}
\DoxyCodeLine{529   *\mbox{\hyperlink{gears_8c_accd6b5b92b78666e36543412d4ac14cd}{key}} = TlsAlloc();}
\DoxyCodeLine{530   \textcolor{keywordflow}{if} (*\mbox{\hyperlink{gears_8c_accd6b5b92b78666e36543412d4ac14cd}{key}} == TLS\_OUT\_OF\_INDEXES)}
\DoxyCodeLine{531   \{}
\DoxyCodeLine{532     \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{533   \}}
\DoxyCodeLine{534 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{535   \textcolor{keywordflow}{if} (pthread\_key\_create(\mbox{\hyperlink{gears_8c_accd6b5b92b78666e36543412d4ac14cd}{key}}, dtor) != 0)}
\DoxyCodeLine{536   \{}
\DoxyCodeLine{537     \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{538   \}}
\DoxyCodeLine{539 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{540   \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}};}
\DoxyCodeLine{541 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_aecebbc66b206171d9381ba94528c6cb7}\label{tinycthread_8c_aecebbc66b206171d9381ba94528c6cb7}} 
\index{tinycthread.c@{tinycthread.c}!tss\_delete@{tss\_delete}}
\index{tss\_delete@{tss\_delete}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{tss\_delete()}{tss\_delete()}}
{\footnotesize\ttfamily \mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} tss\+\_\+delete (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tinycthread_8h_a0475af0e9cd14ba35427de7c8c49dab1}{tss\+\_\+t}}}]{key }\end{DoxyParamCaption})}

Delete a thread-\/specific storage. The function releases any resources used by the given thread-\/specific storage. 
\begin{DoxyParams}{Parameters}
{\em key} & The key that shall be deleted. \\
\hline
\end{DoxyParams}


Definition at line 543 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{544 \{}
\DoxyCodeLine{545 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{546   TlsFree(\mbox{\hyperlink{gears_8c_accd6b5b92b78666e36543412d4ac14cd}{key}});}
\DoxyCodeLine{547 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{548   pthread\_key\_delete(\mbox{\hyperlink{gears_8c_accd6b5b92b78666e36543412d4ac14cd}{key}});}
\DoxyCodeLine{549 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{550 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_a183e71f731ed566a1d14b056606806f8}\label{tinycthread_8c_a183e71f731ed566a1d14b056606806f8}} 
\index{tinycthread.c@{tinycthread.c}!tss\_get@{tss\_get}}
\index{tss\_get@{tss\_get}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{tss\_get()}{tss\_get()}}
{\footnotesize\ttfamily \mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}}$\ast$ tss\+\_\+get (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tinycthread_8h_a0475af0e9cd14ba35427de7c8c49dab1}{tss\+\_\+t}}}]{key }\end{DoxyParamCaption})}

Get the value for a thread-\/specific storage. 
\begin{DoxyParams}{Parameters}
{\em key} & The thread-\/specific storage identifier. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The value for the current thread held in the given thread-\/specific storage. 
\end{DoxyReturn}


Definition at line 552 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{553 \{}
\DoxyCodeLine{554 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{555   \textcolor{keywordflow}{return} TlsGetValue(\mbox{\hyperlink{gears_8c_accd6b5b92b78666e36543412d4ac14cd}{key}});}
\DoxyCodeLine{556 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{557   \textcolor{keywordflow}{return} pthread\_getspecific(\mbox{\hyperlink{gears_8c_accd6b5b92b78666e36543412d4ac14cd}{key}});}
\DoxyCodeLine{558 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{559 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tinycthread_8c_a608e01c49b84a5ad4f085a9aedc6a680}\label{tinycthread_8c_a608e01c49b84a5ad4f085a9aedc6a680}} 
\index{tinycthread.c@{tinycthread.c}!tss\_set@{tss\_set}}
\index{tss\_set@{tss\_set}!tinycthread.c@{tinycthread.c}}
\doxysubsubsection{\texorpdfstring{tss\_set()}{tss\_set()}}
{\footnotesize\ttfamily int tss\+\_\+set (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tinycthread_8h_a0475af0e9cd14ba35427de7c8c49dab1}{tss\+\_\+t}}}]{key,  }\item[{\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} $\ast$}]{val }\end{DoxyParamCaption})}

Set the value for a thread-\/specific storage. 
\begin{DoxyParams}{Parameters}
{\em key} & The thread-\/specific storage identifier. \\
\hline
{\em val} & The value of the thread-\/specific storage to set for the current thread. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\+\_\+success}} on success, or \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\+\_\+error}} if the request could not be honored. 
\end{DoxyReturn}


Definition at line 561 of file tinycthread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{562 \{}
\DoxyCodeLine{563 \textcolor{preprocessor}{\#if defined(\_TTHREAD\_WIN32\_)}}
\DoxyCodeLine{564   \textcolor{keywordflow}{if} (TlsSetValue(\mbox{\hyperlink{gears_8c_accd6b5b92b78666e36543412d4ac14cd}{key}}, \mbox{\hyperlink{glad_8h_a26942fd2ed566ef553eae82d2c109c8f}{val}}) == 0)}
\DoxyCodeLine{565   \{}
\DoxyCodeLine{566     \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{567   \}}
\DoxyCodeLine{568 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{569   \textcolor{keywordflow}{if} (pthread\_setspecific(\mbox{\hyperlink{gears_8c_accd6b5b92b78666e36543412d4ac14cd}{key}}, \mbox{\hyperlink{glad_8h_a26942fd2ed566ef553eae82d2c109c8f}{val}}) != 0)}
\DoxyCodeLine{570   \{}
\DoxyCodeLine{571     \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a0944e70c2ce4eed616f7bcfd604fba96}{thrd\_error}};}
\DoxyCodeLine{572   \}}
\DoxyCodeLine{573 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{574   \textcolor{keywordflow}{return} \mbox{\hyperlink{tinycthread_8h_a6f15c94421801f7f6a4338653b9017dc}{thrd\_success}};}
\DoxyCodeLine{575 \}}

\end{DoxyCode}
