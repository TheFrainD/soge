\hypertarget{event_8c_source}{}\doxysection{event.\+c}
\label{event_8c_source}\index{src/vally/core/event.c@{src/vally/core/event.c}}
\mbox{\hyperlink{event_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00001}00001 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{event_8h}{vally/core/event.h}}>}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00003}00003 \textcolor{preprocessor}{\#include <stdlib.h>}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00004}00004 \textcolor{preprocessor}{\#include <string.h>}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00005}00005 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00006}00006 \textcolor{preprocessor}{\#include <cvec.h>}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00007}00007 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00008}00008 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{logger_8h}{vally/core/logger.h}}>}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00009}00009 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00010}\mbox{\hyperlink{structregistered__event}{00010}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00011}\mbox{\hyperlink{structregistered__event_a8baaf13de842035b82f17465e592fe19}{00011}}   \textcolor{keywordtype}{void} *\mbox{\hyperlink{structregistered__event_a8baaf13de842035b82f17465e592fe19}{listener}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00012}\mbox{\hyperlink{structregistered__event_a994a35acdf62114a2f04ab8d136ae3aa}{00012}}   \mbox{\hyperlink{event_8h_a0510ba71fcdd70efda521389ea14e7a5}{on\_event\_fun}} \mbox{\hyperlink{structregistered__event_a994a35acdf62114a2f04ab8d136ae3aa}{callback}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00013}00013 \} \mbox{\hyperlink{structregistered__event}{registered\_event}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00014}00014 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00015}\mbox{\hyperlink{structevent__code__entry}{00015}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00016}\mbox{\hyperlink{structevent__code__entry_af9e6e5bd1d2970b193d0aba78a865283}{00016}}   cvec \mbox{\hyperlink{structevent__code__entry_af9e6e5bd1d2970b193d0aba78a865283}{events}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00017}00017 \} \mbox{\hyperlink{structevent__code__entry}{event\_code\_entry}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00018}00018 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00019}\mbox{\hyperlink{event_8c_a59db8f883e31171b78490d26c0251f64}{00019}} \textcolor{preprocessor}{\#define MAX\_MESSAGE\_CODES 16384}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00020}00020 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00021}\mbox{\hyperlink{structevent__system__state}{00021}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00022}\mbox{\hyperlink{structevent__system__state_a20a86f05bfac98ca3c7d82ab3a5d293a}{00022}}   \mbox{\hyperlink{structevent__code__entry}{event\_code\_entry}} registered[\mbox{\hyperlink{event_8c_a59db8f883e31171b78490d26c0251f64}{MAX\_MESSAGE\_CODES}}];}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00023}00023 \} \mbox{\hyperlink{structevent__system__state}{event\_system\_state}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00025}00025 \textcolor{keyword}{static} \mbox{\hyperlink{config_8h_a4d99477750540df819f904cf665cbfb4}{b8}} initialized = \mbox{\hyperlink{config_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00026}00026 \textcolor{keyword}{static} \mbox{\hyperlink{structevent__system__state}{event\_system\_state}} state;}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00027}00027 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00028}\mbox{\hyperlink{event_8c_a5b0f78273328aee6d4f9ce3949a6b727}{00028}} \mbox{\hyperlink{config_8h_a4d99477750540df819f904cf665cbfb4}{b8}} \mbox{\hyperlink{event_8c_a5b0f78273328aee6d4f9ce3949a6b727}{event\_init}}() \{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00029}00029   \textcolor{keywordflow}{if} (initialized) \{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00030}00030     \textcolor{keywordflow}{return} \mbox{\hyperlink{config_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00031}00031   \}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00032}00032 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00033}00033   memset(\&state, 0, \textcolor{keyword}{sizeof}(state));}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00034}00034   initialized = \mbox{\hyperlink{config_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00035}00035   \mbox{\hyperlink{logger_8h_af933c6341b0deeb4ee1a540da61b9536}{VALLY\_TRACE}}(\textcolor{stringliteral}{"{}Event system initialized"{}});}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00037}00037   \textcolor{keywordflow}{return} \mbox{\hyperlink{config_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00038}00038 \}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00039}00039 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00040}\mbox{\hyperlink{event_8c_af5c0fd0bca4f543c61042cf947de7ef9}{00040}} \textcolor{keywordtype}{void} \mbox{\hyperlink{event_8c_af5c0fd0bca4f543c61042cf947de7ef9}{event\_terminate}}() \{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00041}00041   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{event_8c_a59db8f883e31171b78490d26c0251f64}{MAX\_MESSAGE\_CODES}}; i++) \{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00042}00042     \textcolor{keywordflow}{if} (state.\mbox{\hyperlink{structevent__system__state_a20a86f05bfac98ca3c7d82ab3a5d293a}{registered}}[i].\mbox{\hyperlink{structevent__code__entry_af9e6e5bd1d2970b193d0aba78a865283}{events}} != \mbox{\hyperlink{config_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) \{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00043}00043       cvec\_destroy(state.\mbox{\hyperlink{structevent__system__state_a20a86f05bfac98ca3c7d82ab3a5d293a}{registered}}[i].\mbox{\hyperlink{structevent__code__entry_af9e6e5bd1d2970b193d0aba78a865283}{events}});}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00044}00044       state.\mbox{\hyperlink{structevent__system__state_a20a86f05bfac98ca3c7d82ab3a5d293a}{registered}}[i].\mbox{\hyperlink{structevent__code__entry_af9e6e5bd1d2970b193d0aba78a865283}{events}} = \mbox{\hyperlink{config_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00045}00045     \}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00046}00046   \}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00047}00047   \mbox{\hyperlink{logger_8h_af933c6341b0deeb4ee1a540da61b9536}{VALLY\_TRACE}}(\textcolor{stringliteral}{"{}Event system terminated"{}});}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00048}00048 \}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00049}00049 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00050}\mbox{\hyperlink{event_8c_aaa4dcb88a77bd7acfae9c3c0589da891}{00050}} \mbox{\hyperlink{config_8h_a4d99477750540df819f904cf665cbfb4}{b8}} \mbox{\hyperlink{event_8c_aaa4dcb88a77bd7acfae9c3c0589da891}{event\_subscribe}}(\mbox{\hyperlink{config_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}} code, \textcolor{keywordtype}{void} *listener, \mbox{\hyperlink{event_8h_a0510ba71fcdd70efda521389ea14e7a5}{on\_event\_fun}} callback) \{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00051}00051   \textcolor{keywordflow}{if} (!initialized) \{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00052}00052     \textcolor{keywordflow}{return} \mbox{\hyperlink{config_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00053}00053   \}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00054}00054 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00055}00055   \textcolor{keywordflow}{if} (state.\mbox{\hyperlink{structevent__system__state_a20a86f05bfac98ca3c7d82ab3a5d293a}{registered}}[code].\mbox{\hyperlink{structevent__code__entry_af9e6e5bd1d2970b193d0aba78a865283}{events}} == \mbox{\hyperlink{config_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) \{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00056}00056     state.\mbox{\hyperlink{structevent__system__state_a20a86f05bfac98ca3c7d82ab3a5d293a}{registered}}[code].\mbox{\hyperlink{structevent__code__entry_af9e6e5bd1d2970b193d0aba78a865283}{events}} = cvec\_create(\mbox{\hyperlink{structregistered__event}{registered\_event}});}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00057}00057   \}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00058}00058 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00059}00059   \mbox{\hyperlink{config_8h_a3f7e2bcbb0b4c338f3c4f6c937cd4234}{u64}} registered\_count = cvec\_size(state.\mbox{\hyperlink{structevent__system__state_a20a86f05bfac98ca3c7d82ab3a5d293a}{registered}}[code].\mbox{\hyperlink{structevent__code__entry_af9e6e5bd1d2970b193d0aba78a865283}{events}});}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00060}00060   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < registered\_count; i++) \{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00061}00061     \textcolor{keywordflow}{if} (cvec\_at(state.\mbox{\hyperlink{structevent__system__state_a20a86f05bfac98ca3c7d82ab3a5d293a}{registered}}[code].\mbox{\hyperlink{structevent__code__entry_af9e6e5bd1d2970b193d0aba78a865283}{events}}, i, \mbox{\hyperlink{structregistered__event}{registered\_event}}).listener == listener) \{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00062}00062       \textcolor{comment}{// TODO: warn}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00063}00063       \textcolor{keywordflow}{return} \mbox{\hyperlink{config_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00064}00064     \}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00065}00065   \}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00066}00066 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00067}00067   \mbox{\hyperlink{structregistered__event}{registered\_event}} event;}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00068}00068   \textcolor{keyword}{event}.\mbox{\hyperlink{structregistered__event_a8baaf13de842035b82f17465e592fe19}{listener}} = listener;}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00069}00069   \textcolor{keyword}{event}.callback = callback;}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00070}00070   cvec\_push\_back(state.\mbox{\hyperlink{structevent__system__state_a20a86f05bfac98ca3c7d82ab3a5d293a}{registered}}[code].\mbox{\hyperlink{structevent__code__entry_af9e6e5bd1d2970b193d0aba78a865283}{events}}, event);}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00071}00071 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00072}00072   \textcolor{keywordflow}{return} \mbox{\hyperlink{config_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00073}00073 \}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00074}00074 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00075}\mbox{\hyperlink{event_8c_a8393ea3aa1cf5939fc961b02788ef360}{00075}} \mbox{\hyperlink{config_8h_a4d99477750540df819f904cf665cbfb4}{b8}} \mbox{\hyperlink{event_8c_a8393ea3aa1cf5939fc961b02788ef360}{event\_unsubscribe}}(\mbox{\hyperlink{config_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}} code, \textcolor{keywordtype}{void} *listener, \mbox{\hyperlink{event_8h_a0510ba71fcdd70efda521389ea14e7a5}{on\_event\_fun}} callback) \{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00076}00076   \textcolor{keywordflow}{if} (!initialized) \{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00077}00077     \textcolor{keywordflow}{return} \mbox{\hyperlink{config_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00078}00078   \}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00079}00079 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00080}00080   \textcolor{keywordflow}{if} (state.\mbox{\hyperlink{structevent__system__state_a20a86f05bfac98ca3c7d82ab3a5d293a}{registered}}[code].\mbox{\hyperlink{structevent__code__entry_af9e6e5bd1d2970b193d0aba78a865283}{events}} == \mbox{\hyperlink{config_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) \{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00081}00081     \textcolor{keywordflow}{return} \mbox{\hyperlink{config_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00082}00082   \}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00083}00083 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00084}00084   \mbox{\hyperlink{config_8h_a3f7e2bcbb0b4c338f3c4f6c937cd4234}{u64}} registered\_count = cvec\_size(state.\mbox{\hyperlink{structevent__system__state_a20a86f05bfac98ca3c7d82ab3a5d293a}{registered}}[code].\mbox{\hyperlink{structevent__code__entry_af9e6e5bd1d2970b193d0aba78a865283}{events}});}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00085}00085   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < registered\_count; i++) \{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00086}00086     \mbox{\hyperlink{structregistered__event}{registered\_event}} \textcolor{keyword}{event} = cvec\_at(state.\mbox{\hyperlink{structevent__system__state_a20a86f05bfac98ca3c7d82ab3a5d293a}{registered}}[code].\mbox{\hyperlink{structevent__code__entry_af9e6e5bd1d2970b193d0aba78a865283}{events}}, i, \mbox{\hyperlink{structregistered__event}{registered\_event}});}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00087}00087     \textcolor{keywordflow}{if} (event.listener == listener \&\& event.callback == callback) \{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00088}00088       cvec\_erase(state.\mbox{\hyperlink{structevent__system__state_a20a86f05bfac98ca3c7d82ab3a5d293a}{registered}}[code].\mbox{\hyperlink{structevent__code__entry_af9e6e5bd1d2970b193d0aba78a865283}{events}}, i);}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00089}00089       \textcolor{keywordflow}{return} \mbox{\hyperlink{config_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00090}00090     \}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00091}00091   \}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00092}00092 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00093}00093   \textcolor{keywordflow}{return} \mbox{\hyperlink{config_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00094}00094 \}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00095}00095 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00096}\mbox{\hyperlink{event_8c_a7131032d2f9fc63fda885be905de017f}{00096}} \mbox{\hyperlink{config_8h_a4d99477750540df819f904cf665cbfb4}{b8}} \mbox{\hyperlink{event_8c_a7131032d2f9fc63fda885be905de017f}{event\_publish}}(\mbox{\hyperlink{config_8h_ace9d960e74685e2cd84b36132dbbf8aa}{u16}} code, \textcolor{keywordtype}{void} *sender, \mbox{\hyperlink{structevent__context}{event\_context}} context) \{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00097}00097   \textcolor{keywordflow}{if} (!initialized) \{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00098}00098     \textcolor{keywordflow}{return} \mbox{\hyperlink{config_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00099}00099   \}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00100}00100 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00101}00101   \textcolor{keywordflow}{if} (state.\mbox{\hyperlink{structevent__system__state_a20a86f05bfac98ca3c7d82ab3a5d293a}{registered}}[code].\mbox{\hyperlink{structevent__code__entry_af9e6e5bd1d2970b193d0aba78a865283}{events}} == \mbox{\hyperlink{config_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) \{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00102}00102     \textcolor{keywordflow}{return} \mbox{\hyperlink{config_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00103}00103   \}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00104}00104 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00105}00105   \mbox{\hyperlink{config_8h_a3f7e2bcbb0b4c338f3c4f6c937cd4234}{u64}} registered\_count = cvec\_size(state.\mbox{\hyperlink{structevent__system__state_a20a86f05bfac98ca3c7d82ab3a5d293a}{registered}}[code].\mbox{\hyperlink{structevent__code__entry_af9e6e5bd1d2970b193d0aba78a865283}{events}});}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00106}00106   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < registered\_count; i++) \{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00107}00107     \mbox{\hyperlink{structregistered__event}{registered\_event}} \textcolor{keyword}{event} = cvec\_at(state.\mbox{\hyperlink{structevent__system__state_a20a86f05bfac98ca3c7d82ab3a5d293a}{registered}}[code].\mbox{\hyperlink{structevent__code__entry_af9e6e5bd1d2970b193d0aba78a865283}{events}}, i, \mbox{\hyperlink{structregistered__event}{registered\_event}});}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00108}00108     \textcolor{keywordflow}{if} (event.callback(code, sender, event.listener, context)) \{}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00109}00109       \textcolor{keywordflow}{return} \mbox{\hyperlink{config_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00110}00110     \}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00111}00111   \}}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00112}00112 }
\DoxyCodeLine{\Hypertarget{event_8c_source_l00113}00113   \textcolor{keywordflow}{return} \mbox{\hyperlink{config_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{\Hypertarget{event_8c_source_l00114}00114 \}}

\end{DoxyCode}
