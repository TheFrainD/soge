\hypertarget{posix__thread_8c}{}\doxysection{deps/glfw/src/posix\+\_\+thread.c File Reference}
\label{posix__thread_8c}\index{deps/glfw/src/posix\_thread.c@{deps/glfw/src/posix\_thread.c}}
{\ttfamily \#include \char`\"{}internal.\+h\char`\"{}}\newline
{\ttfamily \#include $<$assert.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{internal_8h_ac5743c31bece872e24528b5a45e354c5}{G\+L\+F\+Wbool}} \mbox{\hyperlink{posix__thread_8c_afad94d57290ac85fbece14f93c41754f}{\+\_\+glfw\+Platform\+Create\+Tls}} (\mbox{\hyperlink{struct___g_l_f_wtls}{\+\_\+\+G\+L\+F\+Wtls}} $\ast$tls)
\item 
\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} \mbox{\hyperlink{posix__thread_8c_a36bee5cb6dd711c2278a0db7f5b81979}{\+\_\+glfw\+Platform\+Destroy\+Tls}} (\mbox{\hyperlink{struct___g_l_f_wtls}{\+\_\+\+G\+L\+F\+Wtls}} $\ast$tls)
\item 
\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} $\ast$ \mbox{\hyperlink{posix__thread_8c_a0a0787a86bb4e04f17a8d24e70e1f013}{\+\_\+glfw\+Platform\+Get\+Tls}} (\mbox{\hyperlink{struct___g_l_f_wtls}{\+\_\+\+G\+L\+F\+Wtls}} $\ast$tls)
\item 
\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} \mbox{\hyperlink{posix__thread_8c_a302f48b6d4dba6b3579449d8a43cfae7}{\+\_\+glfw\+Platform\+Set\+Tls}} (\mbox{\hyperlink{struct___g_l_f_wtls}{\+\_\+\+G\+L\+F\+Wtls}} $\ast$tls, \mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} $\ast$\mbox{\hyperlink{glad_8h_a79169be77d7e02a24f68a5bfe627dc29}{value}})
\item 
\mbox{\hyperlink{internal_8h_ac5743c31bece872e24528b5a45e354c5}{G\+L\+F\+Wbool}} \mbox{\hyperlink{posix__thread_8c_a6c5f30449fe62f561c9b01f839ec0438}{\+\_\+glfw\+Platform\+Create\+Mutex}} (\mbox{\hyperlink{struct___g_l_f_wmutex}{\+\_\+\+G\+L\+F\+Wmutex}} $\ast$mutex)
\item 
\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} \mbox{\hyperlink{posix__thread_8c_a3731e795e959a80349337ee1e3887518}{\+\_\+glfw\+Platform\+Destroy\+Mutex}} (\mbox{\hyperlink{struct___g_l_f_wmutex}{\+\_\+\+G\+L\+F\+Wmutex}} $\ast$mutex)
\item 
\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} \mbox{\hyperlink{posix__thread_8c_a2677e4d211fbe9b2dc96d16e91c98930}{\+\_\+glfw\+Platform\+Lock\+Mutex}} (\mbox{\hyperlink{struct___g_l_f_wmutex}{\+\_\+\+G\+L\+F\+Wmutex}} $\ast$mutex)
\item 
\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} \mbox{\hyperlink{posix__thread_8c_a8b7744446237b1c292ba8a0b9d5e7f90}{\+\_\+glfw\+Platform\+Unlock\+Mutex}} (\mbox{\hyperlink{struct___g_l_f_wmutex}{\+\_\+\+G\+L\+F\+Wmutex}} $\ast$mutex)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{posix__thread_8c_a6c5f30449fe62f561c9b01f839ec0438}\label{posix__thread_8c_a6c5f30449fe62f561c9b01f839ec0438}} 
\index{posix\_thread.c@{posix\_thread.c}!\_glfwPlatformCreateMutex@{\_glfwPlatformCreateMutex}}
\index{\_glfwPlatformCreateMutex@{\_glfwPlatformCreateMutex}!posix\_thread.c@{posix\_thread.c}}
\doxysubsubsection{\texorpdfstring{\_glfwPlatformCreateMutex()}{\_glfwPlatformCreateMutex()}}
{\footnotesize\ttfamily \mbox{\hyperlink{internal_8h_ac5743c31bece872e24528b5a45e354c5}{G\+L\+F\+Wbool}} \+\_\+glfw\+Platform\+Create\+Mutex (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct___g_l_f_wmutex}{\+\_\+\+G\+L\+F\+Wmutex}} $\ast$}]{mutex }\end{DoxyParamCaption})}



Definition at line 74 of file posix\+\_\+thread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{75 \{}
\DoxyCodeLine{76     assert(mutex-\/>posix.allocated == \mbox{\hyperlink{group__init_gac877fe3b627d21ef3a0a23e0a73ba8c5}{GLFW\_FALSE}});}
\DoxyCodeLine{77 }
\DoxyCodeLine{78     \textcolor{keywordflow}{if} (pthread\_mutex\_init(\&mutex-\/>posix.handle, \mbox{\hyperlink{include_2vally_2config_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) != 0)}
\DoxyCodeLine{79     \{}
\DoxyCodeLine{80         \mbox{\hyperlink{init_8c_a3287b282ec57a4a89127ae51f49f10f5}{\_glfwInputError}}(\mbox{\hyperlink{group__errors_gad44162d78100ea5e87cdd38426b8c7a1}{GLFW\_PLATFORM\_ERROR}}, \textcolor{stringliteral}{"POSIX: Failed to create mutex"});}
\DoxyCodeLine{81         \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_gac877fe3b627d21ef3a0a23e0a73ba8c5}{GLFW\_FALSE}};}
\DoxyCodeLine{82     \}}
\DoxyCodeLine{83 }
\DoxyCodeLine{84     \textcolor{keywordflow}{return} mutex-\/>posix.allocated = \mbox{\hyperlink{group__init_ga2744fbb29b5631bb28802dbe0cf36eba}{GLFW\_TRUE}};}
\DoxyCodeLine{85 \}}

\end{DoxyCode}
\mbox{\Hypertarget{posix__thread_8c_afad94d57290ac85fbece14f93c41754f}\label{posix__thread_8c_afad94d57290ac85fbece14f93c41754f}} 
\index{posix\_thread.c@{posix\_thread.c}!\_glfwPlatformCreateTls@{\_glfwPlatformCreateTls}}
\index{\_glfwPlatformCreateTls@{\_glfwPlatformCreateTls}!posix\_thread.c@{posix\_thread.c}}
\doxysubsubsection{\texorpdfstring{\_glfwPlatformCreateTls()}{\_glfwPlatformCreateTls()}}
{\footnotesize\ttfamily \mbox{\hyperlink{internal_8h_ac5743c31bece872e24528b5a45e354c5}{G\+L\+F\+Wbool}} \+\_\+glfw\+Platform\+Create\+Tls (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct___g_l_f_wtls}{\+\_\+\+G\+L\+F\+Wtls}} $\ast$}]{tls }\end{DoxyParamCaption})}



Definition at line 40 of file posix\+\_\+thread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{41 \{}
\DoxyCodeLine{42     assert(tls-\/>posix.allocated == \mbox{\hyperlink{group__init_gac877fe3b627d21ef3a0a23e0a73ba8c5}{GLFW\_FALSE}});}
\DoxyCodeLine{43 }
\DoxyCodeLine{44     \textcolor{keywordflow}{if} (pthread\_key\_create(\&tls-\/>posix.key, \mbox{\hyperlink{include_2vally_2config_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) != 0)}
\DoxyCodeLine{45     \{}
\DoxyCodeLine{46         \mbox{\hyperlink{init_8c_a3287b282ec57a4a89127ae51f49f10f5}{\_glfwInputError}}(\mbox{\hyperlink{group__errors_gad44162d78100ea5e87cdd38426b8c7a1}{GLFW\_PLATFORM\_ERROR}},}
\DoxyCodeLine{47                         \textcolor{stringliteral}{"POSIX: Failed to create context TLS"});}
\DoxyCodeLine{48         \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_gac877fe3b627d21ef3a0a23e0a73ba8c5}{GLFW\_FALSE}};}
\DoxyCodeLine{49     \}}
\DoxyCodeLine{50 }
\DoxyCodeLine{51     tls-\/>posix.allocated = \mbox{\hyperlink{group__init_ga2744fbb29b5631bb28802dbe0cf36eba}{GLFW\_TRUE}};}
\DoxyCodeLine{52     \textcolor{keywordflow}{return} \mbox{\hyperlink{group__init_ga2744fbb29b5631bb28802dbe0cf36eba}{GLFW\_TRUE}};}
\DoxyCodeLine{53 \}}

\end{DoxyCode}
\mbox{\Hypertarget{posix__thread_8c_a3731e795e959a80349337ee1e3887518}\label{posix__thread_8c_a3731e795e959a80349337ee1e3887518}} 
\index{posix\_thread.c@{posix\_thread.c}!\_glfwPlatformDestroyMutex@{\_glfwPlatformDestroyMutex}}
\index{\_glfwPlatformDestroyMutex@{\_glfwPlatformDestroyMutex}!posix\_thread.c@{posix\_thread.c}}
\doxysubsubsection{\texorpdfstring{\_glfwPlatformDestroyMutex()}{\_glfwPlatformDestroyMutex()}}
{\footnotesize\ttfamily \mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} \+\_\+glfw\+Platform\+Destroy\+Mutex (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct___g_l_f_wmutex}{\+\_\+\+G\+L\+F\+Wmutex}} $\ast$}]{mutex }\end{DoxyParamCaption})}



Definition at line 87 of file posix\+\_\+thread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{88 \{}
\DoxyCodeLine{89     \textcolor{keywordflow}{if} (mutex-\/>posix.allocated)}
\DoxyCodeLine{90         pthread\_mutex\_destroy(\&mutex-\/>posix.handle);}
\DoxyCodeLine{91     memset(mutex, 0, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct___g_l_f_wmutex}{\_GLFWmutex}}));}
\DoxyCodeLine{92 \}}

\end{DoxyCode}
\mbox{\Hypertarget{posix__thread_8c_a36bee5cb6dd711c2278a0db7f5b81979}\label{posix__thread_8c_a36bee5cb6dd711c2278a0db7f5b81979}} 
\index{posix\_thread.c@{posix\_thread.c}!\_glfwPlatformDestroyTls@{\_glfwPlatformDestroyTls}}
\index{\_glfwPlatformDestroyTls@{\_glfwPlatformDestroyTls}!posix\_thread.c@{posix\_thread.c}}
\doxysubsubsection{\texorpdfstring{\_glfwPlatformDestroyTls()}{\_glfwPlatformDestroyTls()}}
{\footnotesize\ttfamily \mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} \+\_\+glfw\+Platform\+Destroy\+Tls (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct___g_l_f_wtls}{\+\_\+\+G\+L\+F\+Wtls}} $\ast$}]{tls }\end{DoxyParamCaption})}



Definition at line 55 of file posix\+\_\+thread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{56 \{}
\DoxyCodeLine{57     \textcolor{keywordflow}{if} (tls-\/>posix.allocated)}
\DoxyCodeLine{58         pthread\_key\_delete(tls-\/>posix.key);}
\DoxyCodeLine{59     memset(tls, 0, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct___g_l_f_wtls}{\_GLFWtls}}));}
\DoxyCodeLine{60 \}}

\end{DoxyCode}
\mbox{\Hypertarget{posix__thread_8c_a0a0787a86bb4e04f17a8d24e70e1f013}\label{posix__thread_8c_a0a0787a86bb4e04f17a8d24e70e1f013}} 
\index{posix\_thread.c@{posix\_thread.c}!\_glfwPlatformGetTls@{\_glfwPlatformGetTls}}
\index{\_glfwPlatformGetTls@{\_glfwPlatformGetTls}!posix\_thread.c@{posix\_thread.c}}
\doxysubsubsection{\texorpdfstring{\_glfwPlatformGetTls()}{\_glfwPlatformGetTls()}}
{\footnotesize\ttfamily \mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}}$\ast$ \+\_\+glfw\+Platform\+Get\+Tls (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct___g_l_f_wtls}{\+\_\+\+G\+L\+F\+Wtls}} $\ast$}]{tls }\end{DoxyParamCaption})}



Definition at line 62 of file posix\+\_\+thread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{63 \{}
\DoxyCodeLine{64     assert(tls-\/>posix.allocated == \mbox{\hyperlink{group__init_ga2744fbb29b5631bb28802dbe0cf36eba}{GLFW\_TRUE}});}
\DoxyCodeLine{65     \textcolor{keywordflow}{return} pthread\_getspecific(tls-\/>posix.key);}
\DoxyCodeLine{66 \}}

\end{DoxyCode}
\mbox{\Hypertarget{posix__thread_8c_a2677e4d211fbe9b2dc96d16e91c98930}\label{posix__thread_8c_a2677e4d211fbe9b2dc96d16e91c98930}} 
\index{posix\_thread.c@{posix\_thread.c}!\_glfwPlatformLockMutex@{\_glfwPlatformLockMutex}}
\index{\_glfwPlatformLockMutex@{\_glfwPlatformLockMutex}!posix\_thread.c@{posix\_thread.c}}
\doxysubsubsection{\texorpdfstring{\_glfwPlatformLockMutex()}{\_glfwPlatformLockMutex()}}
{\footnotesize\ttfamily \mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} \+\_\+glfw\+Platform\+Lock\+Mutex (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct___g_l_f_wmutex}{\+\_\+\+G\+L\+F\+Wmutex}} $\ast$}]{mutex }\end{DoxyParamCaption})}



Definition at line 94 of file posix\+\_\+thread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{95 \{}
\DoxyCodeLine{96     assert(mutex-\/>posix.allocated == \mbox{\hyperlink{group__init_ga2744fbb29b5631bb28802dbe0cf36eba}{GLFW\_TRUE}});}
\DoxyCodeLine{97     pthread\_mutex\_lock(\&mutex-\/>posix.handle);}
\DoxyCodeLine{98 \}}

\end{DoxyCode}
\mbox{\Hypertarget{posix__thread_8c_a302f48b6d4dba6b3579449d8a43cfae7}\label{posix__thread_8c_a302f48b6d4dba6b3579449d8a43cfae7}} 
\index{posix\_thread.c@{posix\_thread.c}!\_glfwPlatformSetTls@{\_glfwPlatformSetTls}}
\index{\_glfwPlatformSetTls@{\_glfwPlatformSetTls}!posix\_thread.c@{posix\_thread.c}}
\doxysubsubsection{\texorpdfstring{\_glfwPlatformSetTls()}{\_glfwPlatformSetTls()}}
{\footnotesize\ttfamily \mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} \+\_\+glfw\+Platform\+Set\+Tls (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct___g_l_f_wtls}{\+\_\+\+G\+L\+F\+Wtls}} $\ast$}]{tls,  }\item[{\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} $\ast$}]{value }\end{DoxyParamCaption})}



Definition at line 68 of file posix\+\_\+thread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{69 \{}
\DoxyCodeLine{70     assert(tls-\/>posix.allocated == \mbox{\hyperlink{group__init_ga2744fbb29b5631bb28802dbe0cf36eba}{GLFW\_TRUE}});}
\DoxyCodeLine{71     pthread\_setspecific(tls-\/>posix.key, \mbox{\hyperlink{glad_8h_a79169be77d7e02a24f68a5bfe627dc29}{value}});}
\DoxyCodeLine{72 \}}

\end{DoxyCode}
\mbox{\Hypertarget{posix__thread_8c_a8b7744446237b1c292ba8a0b9d5e7f90}\label{posix__thread_8c_a8b7744446237b1c292ba8a0b9d5e7f90}} 
\index{posix\_thread.c@{posix\_thread.c}!\_glfwPlatformUnlockMutex@{\_glfwPlatformUnlockMutex}}
\index{\_glfwPlatformUnlockMutex@{\_glfwPlatformUnlockMutex}!posix\_thread.c@{posix\_thread.c}}
\doxysubsubsection{\texorpdfstring{\_glfwPlatformUnlockMutex()}{\_glfwPlatformUnlockMutex()}}
{\footnotesize\ttfamily \mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} \+\_\+glfw\+Platform\+Unlock\+Mutex (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct___g_l_f_wmutex}{\+\_\+\+G\+L\+F\+Wmutex}} $\ast$}]{mutex }\end{DoxyParamCaption})}



Definition at line 100 of file posix\+\_\+thread.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{101 \{}
\DoxyCodeLine{102     assert(mutex-\/>posix.allocated == \mbox{\hyperlink{group__init_ga2744fbb29b5631bb28802dbe0cf36eba}{GLFW\_TRUE}});}
\DoxyCodeLine{103     pthread\_mutex\_unlock(\&mutex-\/>posix.handle);}
\DoxyCodeLine{104 \}}

\end{DoxyCode}
