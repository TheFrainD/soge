\hypertarget{camera_8c}{}\doxysection{src/vally/renderer/camera.c File Reference}
\label{camera_8c}\index{src/vally/renderer/camera.c@{src/vally/renderer/camera.c}}
{\ttfamily \#include $<$vally/renderer/camera.\+h$>$}\newline
{\ttfamily \#include $<$vally/core/event.\+h$>$}\newline
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structcamera__state}{camera\+\_\+state}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{include_2vally_2config_8h_a4d99477750540df819f904cf665cbfb4}{b8}} \mbox{\hyperlink{camera_8c_a0e26ce6a304023f597deb5a35c990c49}{camera\+\_\+init}} ()
\item 
\mbox{\hyperlink{unionmat4s}{mat4s}} \mbox{\hyperlink{camera_8c_ab016d0896b09876b237b0ba4c31d6ddd}{camera\+\_\+update\+\_\+projection}} (\mbox{\hyperlink{include_2vally_2config_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} \mbox{\hyperlink{glad_8h_a77a72419a6bb6d8b56f8d9db93a120d0}{width}}, \mbox{\hyperlink{include_2vally_2config_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}} \mbox{\hyperlink{glad_8h_a2e94a4956fa3fc42600a71518b6e6284}{height}})
\item 
\mbox{\hyperlink{unionmat4s}{mat4s}} \mbox{\hyperlink{camera_8c_ad9f3c915323cb46514ed404d5fa45771}{camera\+\_\+update\+\_\+view}} ()
\item 
\mbox{\hyperlink{unionmat4s}{mat4s}} \mbox{\hyperlink{camera_8c_afb6d8b1bdf63bb262a12686ec0cd8167}{camera\+\_\+get\+\_\+projection}} ()
\item 
\mbox{\hyperlink{unionmat4s}{mat4s}} \mbox{\hyperlink{camera_8c_a27cecdd897b79aaa2da03253dc192c8b}{camera\+\_\+get\+\_\+view}} ()
\item 
\mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} \mbox{\hyperlink{camera_8c_a17617007205905a5e1dbe750f4101182}{camera\+\_\+translate}} (\mbox{\hyperlink{unionvec2s}{vec2s}} translation)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{camera_8c_afb6d8b1bdf63bb262a12686ec0cd8167}\label{camera_8c_afb6d8b1bdf63bb262a12686ec0cd8167}} 
\index{camera.c@{camera.c}!camera\_get\_projection@{camera\_get\_projection}}
\index{camera\_get\_projection@{camera\_get\_projection}!camera.c@{camera.c}}
\doxysubsubsection{\texorpdfstring{camera\_get\_projection()}{camera\_get\_projection()}}
{\footnotesize\ttfamily \mbox{\hyperlink{unionmat4s}{mat4s}} camera\+\_\+get\+\_\+projection (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 45 of file camera.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{45                               \{}
\DoxyCodeLine{46   \textcolor{keywordflow}{if} (!initialized) \{}
\DoxyCodeLine{47     \textcolor{keywordflow}{return} \mbox{\hyperlink{struct_2mat4_8h_a102e940dd5831ecdfe1ff0011fa90e31}{GLMS\_MAT4\_ZERO}};}
\DoxyCodeLine{48   \}}
\DoxyCodeLine{49   \textcolor{keywordflow}{return} state.\mbox{\hyperlink{structcamera__state_addff7ad170cbd9d956cc209a3d94b390}{projection}};}
\DoxyCodeLine{50 \}}

\end{DoxyCode}
\mbox{\Hypertarget{camera_8c_a27cecdd897b79aaa2da03253dc192c8b}\label{camera_8c_a27cecdd897b79aaa2da03253dc192c8b}} 
\index{camera.c@{camera.c}!camera\_get\_view@{camera\_get\_view}}
\index{camera\_get\_view@{camera\_get\_view}!camera.c@{camera.c}}
\doxysubsubsection{\texorpdfstring{camera\_get\_view()}{camera\_get\_view()}}
{\footnotesize\ttfamily \mbox{\hyperlink{unionmat4s}{mat4s}} camera\+\_\+get\+\_\+view (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 52 of file camera.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{52                         \{}
\DoxyCodeLine{53   \textcolor{keywordflow}{if} (!initialized) \{}
\DoxyCodeLine{54     \textcolor{keywordflow}{return} \mbox{\hyperlink{struct_2mat4_8h_a102e940dd5831ecdfe1ff0011fa90e31}{GLMS\_MAT4\_ZERO}};}
\DoxyCodeLine{55   \}}
\DoxyCodeLine{56   \textcolor{keywordflow}{return} state.\mbox{\hyperlink{structcamera__state_a49624d46173893d377bcab7d3ba44e49}{view}};}
\DoxyCodeLine{57 \}}

\end{DoxyCode}
\mbox{\Hypertarget{camera_8c_a0e26ce6a304023f597deb5a35c990c49}\label{camera_8c_a0e26ce6a304023f597deb5a35c990c49}} 
\index{camera.c@{camera.c}!camera\_init@{camera\_init}}
\index{camera\_init@{camera\_init}!camera.c@{camera.c}}
\doxysubsubsection{\texorpdfstring{camera\_init()}{camera\_init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{include_2vally_2config_8h_a4d99477750540df819f904cf665cbfb4}{b8}} camera\+\_\+init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 14 of file camera.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{14                  \{}
\DoxyCodeLine{15   \textcolor{keywordflow}{if} (initialized) \{}
\DoxyCodeLine{16     \textcolor{keywordflow}{return} \mbox{\hyperlink{include_2vally_2config_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{17   \}}
\DoxyCodeLine{18   state.\mbox{\hyperlink{structcamera__state_a92c4046efa90e58eda3f902a14ab1ae9}{position}} = \mbox{\hyperlink{struct_2vec2_8h_a6394be18cf022b4caba1836128d500ae}{GLMS\_VEC2\_ZERO}};}
\DoxyCodeLine{19   initialized = \mbox{\hyperlink{include_2vally_2config_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{20 }
\DoxyCodeLine{21   \textcolor{keywordflow}{return} \mbox{\hyperlink{include_2vally_2config_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{22 \}}

\end{DoxyCode}
\mbox{\Hypertarget{camera_8c_a17617007205905a5e1dbe750f4101182}\label{camera_8c_a17617007205905a5e1dbe750f4101182}} 
\index{camera.c@{camera.c}!camera\_translate@{camera\_translate}}
\index{camera\_translate@{camera\_translate}!camera.c@{camera.c}}
\doxysubsubsection{\texorpdfstring{camera\_translate()}{camera\_translate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{glext_8h_a46df6112013cf583e82b25cebd5cb499}{void}} camera\+\_\+translate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{unionvec2s}{vec2s}}}]{translation }\end{DoxyParamCaption})}



Definition at line 59 of file camera.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{59                                          \{}
\DoxyCodeLine{60   \textcolor{keywordflow}{if} (!initialized) \{}
\DoxyCodeLine{61     \textcolor{keywordflow}{return};}
\DoxyCodeLine{62   \}}
\DoxyCodeLine{63 }
\DoxyCodeLine{64   state.\mbox{\hyperlink{structcamera__state_a92c4046efa90e58eda3f902a14ab1ae9}{position}} = \mbox{\hyperlink{struct_2vec2_8h_a5027be60826ab0e3a3ae5667520bb07d}{glms\_vec2\_add}}(state.\mbox{\hyperlink{structcamera__state_a92c4046efa90e58eda3f902a14ab1ae9}{position}}, translation);}
\DoxyCodeLine{65   \mbox{\hyperlink{structevent__context}{event\_context}} context;}
\DoxyCodeLine{66   context.\mbox{\hyperlink{structevent__context_a37626a2166126e0253acb56f57b38635}{data}}.\mbox{\hyperlink{structevent__context_aecc1d2cac72d7cf178b96163232840cb}{f32}}[0] = state.\mbox{\hyperlink{structcamera__state_a92c4046efa90e58eda3f902a14ab1ae9}{position}}.x;}
\DoxyCodeLine{67   context.\mbox{\hyperlink{structevent__context_a37626a2166126e0253acb56f57b38635}{data}}.\mbox{\hyperlink{structevent__context_aecc1d2cac72d7cf178b96163232840cb}{f32}}[1] = state.\mbox{\hyperlink{structcamera__state_a92c4046efa90e58eda3f902a14ab1ae9}{position}}.y;}
\DoxyCodeLine{68   \mbox{\hyperlink{event_8h_a16616312a9088582d01e4267bd7d8fdd}{event\_publish}}(\mbox{\hyperlink{event_8h_ab1a5ea1b9d3d15f083a6d01c3ab3c2b7a3599e37cddac3749062b20372bedb8b0}{EVENT\_CODE\_CAMERA\_MOVED}}, \&state, context);}
\DoxyCodeLine{69 \}}

\end{DoxyCode}
\mbox{\Hypertarget{camera_8c_ab016d0896b09876b237b0ba4c31d6ddd}\label{camera_8c_ab016d0896b09876b237b0ba4c31d6ddd}} 
\index{camera.c@{camera.c}!camera\_update\_projection@{camera\_update\_projection}}
\index{camera\_update\_projection@{camera\_update\_projection}!camera.c@{camera.c}}
\doxysubsubsection{\texorpdfstring{camera\_update\_projection()}{camera\_update\_projection()}}
{\footnotesize\ttfamily \mbox{\hyperlink{unionmat4s}{mat4s}} camera\+\_\+update\+\_\+projection (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{include_2vally_2config_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{width,  }\item[{\mbox{\hyperlink{include_2vally_2config_8h_a48d6cd8e4135fb2ff7e7f2dac84089ec}{i32}}}]{height }\end{DoxyParamCaption})}



Definition at line 24 of file camera.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{24                                                       \{}
\DoxyCodeLine{25   \textcolor{keywordflow}{if} (!initialized) \{}
\DoxyCodeLine{26     \textcolor{keywordflow}{return} \mbox{\hyperlink{struct_2mat4_8h_a102e940dd5831ecdfe1ff0011fa90e31}{GLMS\_MAT4\_ZERO}};}
\DoxyCodeLine{27   \}}
\DoxyCodeLine{28 }
\DoxyCodeLine{29   state.\mbox{\hyperlink{structcamera__state_addff7ad170cbd9d956cc209a3d94b390}{projection}} = \mbox{\hyperlink{struct_2cam_8h_a3eb2fa44a4cd87dfe5d231ecf4d561bd}{glms\_ortho}}(0.0\mbox{\hyperlink{glad_8h_a691492ec0bd6383f91200e49f6ae40ed}{f}}, (\textcolor{keywordtype}{float})\mbox{\hyperlink{glad_8h_a77a72419a6bb6d8b56f8d9db93a120d0}{width}}, (\textcolor{keywordtype}{float})\mbox{\hyperlink{glad_8h_a2e94a4956fa3fc42600a71518b6e6284}{height}}, 0.0\mbox{\hyperlink{glad_8h_a691492ec0bd6383f91200e49f6ae40ed}{f}}, 0.0\mbox{\hyperlink{glad_8h_a691492ec0bd6383f91200e49f6ae40ed}{f}}, 100.0\mbox{\hyperlink{glad_8h_a691492ec0bd6383f91200e49f6ae40ed}{f}});}
\DoxyCodeLine{30   \textcolor{keywordflow}{return} state.\mbox{\hyperlink{structcamera__state_addff7ad170cbd9d956cc209a3d94b390}{projection}};}
\DoxyCodeLine{31 \}}

\end{DoxyCode}
\mbox{\Hypertarget{camera_8c_ad9f3c915323cb46514ed404d5fa45771}\label{camera_8c_ad9f3c915323cb46514ed404d5fa45771}} 
\index{camera.c@{camera.c}!camera\_update\_view@{camera\_update\_view}}
\index{camera\_update\_view@{camera\_update\_view}!camera.c@{camera.c}}
\doxysubsubsection{\texorpdfstring{camera\_update\_view()}{camera\_update\_view()}}
{\footnotesize\ttfamily \mbox{\hyperlink{unionmat4s}{mat4s}} camera\+\_\+update\+\_\+view (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 33 of file camera.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{33                            \{}
\DoxyCodeLine{34   \textcolor{keywordflow}{if} (!initialized) \{}
\DoxyCodeLine{35     \textcolor{keywordflow}{return} \mbox{\hyperlink{struct_2mat4_8h_a102e940dd5831ecdfe1ff0011fa90e31}{GLMS\_MAT4\_ZERO}};}
\DoxyCodeLine{36   \}}
\DoxyCodeLine{37 }
\DoxyCodeLine{38   \mbox{\hyperlink{unionvec3s}{vec3s}} front = \{0.0f, 0.0f, -\/1.0f\};}
\DoxyCodeLine{39   \mbox{\hyperlink{unionvec3s}{vec3s}} up = \{0.0f, 1.0f, 0.0f\};}
\DoxyCodeLine{40   state.\mbox{\hyperlink{structcamera__state_a49624d46173893d377bcab7d3ba44e49}{view}} = \mbox{\hyperlink{struct_2cam_8h_a5805b4b04ce2d8dc0e45d19b77cc31b0}{glms\_lookat}}((\mbox{\hyperlink{unionvec3s}{vec3s}})\{state.\mbox{\hyperlink{structcamera__state_a92c4046efa90e58eda3f902a14ab1ae9}{position}}.x, state.\mbox{\hyperlink{structcamera__state_a92c4046efa90e58eda3f902a14ab1ae9}{position}}.y, 20.0f\},}
\DoxyCodeLine{41     \mbox{\hyperlink{struct_2vec3_8h_a3b4f7078a16035dea29106560f77bb3c}{glms\_vec3\_add}}(front, (\mbox{\hyperlink{unionvec3s}{vec3s}})\{state.\mbox{\hyperlink{structcamera__state_a92c4046efa90e58eda3f902a14ab1ae9}{position}}.x, state.\mbox{\hyperlink{structcamera__state_a92c4046efa90e58eda3f902a14ab1ae9}{position}}.y, 0.0f\}), up);}
\DoxyCodeLine{42   \textcolor{keywordflow}{return} state.\mbox{\hyperlink{structcamera__state_a49624d46173893d377bcab7d3ba44e49}{view}};}
\DoxyCodeLine{43 \}}

\end{DoxyCode}
